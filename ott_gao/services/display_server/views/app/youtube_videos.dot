<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
    <link href="vbxapp.css" rel="stylesheet">
    <script src="vbxapp.min.js"></script>
    <script>
        VBX.App.init({
            feed: { container: 'feed-container1', template: 'item-template1', source: 'getYouTubeUrl(url, pageSize)', prepend: 'createEntryForCurrentVideo(player.videoUrl, player.videoThumbnailUrl, player.title)' },
            ready: function () {
            }
        });


        function getYouTubeUrl(url, pageSize) {
            if (url.indexOf('youtubechannel:') == 0){
                return url;
            }

            var feedUrl = '/api/youtube/playlistfeed/?id=' + url;

            if (!VBX.empty(pageSize)) {
                feedUrl += '&maxresults=' + pageSize;
            }

            return feedUrl;
        }

        function createEntryForCurrentVideo(videoUrl, videoThumbnailUrl, title) {
            return { link: videoUrl, author: videoUrl == '' ? 'Close video' : 'Go back to original video', title: title, thumbnail: videoThumbnailUrl }
        }

        function playVideo(element) {
            var videoSource = element.getAttribute("videosource");
            VBX.App.replaceAndPlay(videoSource);
        }


    </script>

    <script> function getAppConfigs() { return {"id":"6f3cf00b-9257-435d-92cd-13e1442d8d33","internalId":"9d2ac339-150f-460b-b831-a67e7efad785","component":"com.qoof.sdk.components.rss.YouTubeFeed","order":29,"lightStyle":false,"showInMenu":"true","thumbnailWidth":"70","label":"YouTube Videos","url":"","pageSize":"10","query":"","icon":"/storage/content/icon/16/youtube.png","player.videoThumbnailUrl":"//assets.viewbix.com/bef4b4f841950e9306a22c4914de07a0.jpg","player.videoUrl":"http://demo.easyvideo.vn/vinamilk.mp4","player.title":"Vinamilk Optimum 4","player.name":"Vinamilk","affiliateRegex":["greensmoke\\.co.+?\\/aff\\/(?P<ac>\\d+)\\/ad\\/(?P<aid>\\d+)","tplclick\\?lid=\\d+&pubid=(?P<ac>.+)","bin/.+?\\?id=(?P<ac>[^&]+)&offerid=(?P<aid>[^&]+)|bin/.+?\\?id=(?P<ac>.+?)&","&pubid=(?P<ac>[^&]*)","&aid=(?P<aid>[\\d\\.]+)&pid=(?P<ac>\\d+)&","/click-(?P<ac>\\d+)-(?P<aid>[\\d\\.]+)","shareasale\\.com[^?]*\\?(?P<query>.*)","/t/\\d+-\\d+-(?P<ac>\\d+)-\\d+","linkconnector\\.com[^?]*\\?(?P<query>.*)","(?:/BI/(?P<ac>\\d+)/KBID/(?P<aid>\\d+))|(?:BI=(?P<ac>\\d+).+?KBID=(?P<aid>\\d+))"]}; } </script></head>
<body>
<div class="vbx-scrollable">
    <div id="feed-container1" class="vbx-feed-container">
        <div id="item-template1" class="vbx-feed-item" onclick="playVideo(this);" videosource="{$link}">
            <div class=" vbx-feed-link-item">
                {if $thumbnail}<img class="vbx-feed-thumbnail" src="{$thumbnail}" data-vbx-style-width="VBX.px(thumbnailWidth)" />{/if}
                <div class="vbx-feed-title">{$title}</div>
                {if $author}<div class="vbx-feed-author">{$author}</div>{/if}
            </div>
        </div>
    </div>
</body>
</html>

