(function(g,h){"object"===typeof module&&"object"===typeof module.exports?module.exports=h():"function"===typeof define&&define.amd?define([],h):g.objectPath=h()})(this,function(){function g(a){if(!a||k(a)&&0===a.length)return!0;if(!l(a)){for(var b in a)if(p.call(a,b))return!1;return!0}return!1}function h(a){return"number"===typeof a||"[object Number]"===m.call(a)}function l(a){return"string"===typeof a||"[object String]"===m.call(a)}function t(a){return"object"===typeof a&&"[object Object]"===m.call(a)}
function q(a){var b=parseInt(a);return b.toString()===a?b:a}function n(a,b,c,d){h(b)&&(b=[b]);if(g(b))return a;if(l(b))return n(a,b.split(".").map(q),c,d);var e=b[0];if(1===b.length)return b=a[e],void 0!==b&&d||(a[e]=c),b;void 0===a[e]&&(h(b[1])?a[e]=[]:a[e]={});return n(a[e],b.slice(1),c,d)}function r(a,b){h(b)&&(b=[b]);if(!g(a)){if(g(b))return a;if(l(b))return r(a,b.split("."));var c=q(b[0]),d=a[c];if(1===b.length)void 0!==d&&(k(a)?a.splice(c,1):delete a[c]);else if(void 0!==a[c])return r(a[c],
b.slice(1));return a}}var m=Object.prototype.toString,p=Object.prototype.hasOwnProperty,k=Array.isArray||function(a){return"[object Array]"===m.call(a)},d=function(a){return Object.keys(d).reduce(function(b,c){"function"===typeof d[c]&&(b[c]=d[c].bind(d,a));return b},{})};d.has=function(a,b){if(g(a))return!1;h(b)?b=[b]:l(b)&&(b=b.split("."));if(g(b)||0===b.length)return!1;for(var c=0;c<b.length;c++){var d=b[c];if((t(a)||k(a))&&p.call(a,d))a=a[d];else return!1}return!0};d.ensureExists=function(a,b,
c){return n(a,b,c,!0)};d.set=function(a,b,c,d){return n(a,b,c,d)};d.insert=function(a,b,c,f){var e=d.get(a,b);f=~~f;k(e)||(e=[],d.set(a,b,e));e.splice(f,0,c)};d.empty=function(a,b){if(g(b))return a;if(!g(a)){var c,f;if(!(c=d.get(a,b)))return a;if(l(c))return d.set(a,b,"");if("boolean"===typeof c||"[object Boolean]"===m.call(c))return d.set(a,b,!1);if(h(c))return d.set(a,b,0);if(k(c))c.length=0;else if(t(c))for(f in c)p.call(c,f)&&delete c[f];else return d.set(a,b,null)}};d.push=function(a,b){var c=
d.get(a,b);k(c)||(c=[],d.set(a,b,c));c.push.apply(c,Array.prototype.slice.call(arguments,2))};d.coalesce=function(a,b,c){for(var f,e=0,g=b.length;e<g;e++)if(void 0!==(f=d.get(a,b[e])))return f;return c};d.get=function(a,b,c){h(b)&&(b=[b]);if(g(b))return a;if(g(a))return c;if(l(b))return d.get(a,b.split("."),c);var f=q(b[0]);return 1===b.length?void 0===a[f]?c:a[f]:d.get(a[f],b.slice(1),c)};d.del=function(a,b){return r(a,b)};return d});
