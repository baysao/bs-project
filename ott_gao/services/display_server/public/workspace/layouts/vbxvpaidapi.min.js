(function(){function O(a){return void 0!==a}function r(a,b,c){a=a.split(".");c=c||q;a[0]in c||!c.execScript||c.execScript("var "+a[0]);for(var d;a.length&&(d=a.shift());)!a.length&&O(b)?c[d]=b:c=c[d]?c[d]:c[d]={}}function nb(a,b){for(var c=a.split("."),d=b||q,g;g=c.shift();)if(null!=d[g])d=d[g];else return null;return d}function Oc(){}function ob(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==
c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function J(a){return"array"==ob(a)}function Xb(a){var b=ob(a);return"array"==
b||"object"==b&&"number"==typeof a.length}function l(a){return"string"==typeof a}function xa(a){return"number"==typeof a}function A(a){return"function"==ob(a)}function Z(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}function fa(a){return a[Pc]||(a[Pc]=++Ie)}function Je(a,b,c){return a.call.apply(a.bind,arguments)}function Ke(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,
d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function n(a,b,c){n=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Je:Ke;return n.apply(null,arguments)}function Na(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}function v(a,b){function c(){}c.prototype=b.prototype;a.$superClass_$=b.prototype;a.prototype=new c;a.prototype.constructor=a;a.$base$=function(a,
c,f){var e=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,e)}}function R(a){if(Error.captureStackTrace)Error.captureStackTrace(this,R);else{var b=Error().stack;b&&(this.stack=b)}a&&(this.message=String(a))}function ya(a,b,c,d,g){this.reset(a,b,c,d,g)}function K(){0!=Qc&&(Rc[fa(this)]=this)}function Sc(a,b){a.$onDisposeCallbacks_$||(a.$onDisposeCallbacks_$=[]);a.$onDisposeCallbacks_$.push(O(void 0)?n(b,void 0):b)}function aa(a){a&&"function"==typeof a.$dispose$&&a.$dispose$()}
function ga(a,b){this.type=a;this.currentTarget=this.target=b;this.defaultPrevented=this.$propagationStopped_$=!1;this.$returnValue_$=!0}function za(a){return!(!a||!a[Tc])}function Le(a,b,c,d,g){this.$listener$=a;this.proxy=null;this.src=b;this.type=c;this.$capture$=!!d;this.$handler$=g;this.key=++Me;this.$removed$=this.$callOnce$=!1}function pb(a){a.$removed$=!0;a.$listener$=null;a.proxy=null;a.src=null;a.$handler$=null}function Yb(a){a=String(a);if(/^\s*$/.test(a)?0:/^[\],:{}\s\u2028\u2029]*$/.test(a.replace(/\\["\\\/bfnrtu]/g,
"@").replace(/"[^"\\\n\r\u2028\u2029\x00-\x08\x0a-\x1f]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:[\s\u2028\u2029]*\[)+/g,"")))try{return eval("("+a+")")}catch(b){}throw Error("Invalid JSON string: "+a);}function Oa(a){return(new Zb(void 0)).serialize(a)}function Zb(a){this.$replacer_$=a}function $b(a,b,c){switch(typeof b){case "string":Uc(b,c);break;case "number":c.push(isFinite(b)&&!isNaN(b)?b:"null");break;case "boolean":c.push(b);break;case "undefined":c.push("null");
break;case "object":if(null==b){c.push("null");break}if(J(b)){a.serializeArray(b,c);break}c.push("{");var d="",g;for(g in b)if(Object.prototype.hasOwnProperty.call(b,g)){var f=b[g];"function"!=typeof f&&(c.push(d),Uc(g,c),c.push(":"),$b(a,a.$replacer_$?a.$replacer_$.call(b,g,f):f,c),d=",")}c.push("}");break;case "function":break;default:throw Error("Unknown type: "+typeof b);}}function Uc(a,b){b.push('"',a.replace(Ne,function(a){if(a in ac)return ac[a];var b=a.charCodeAt(0),g="\\u";16>b?g+="000":
256>b?g+="00":4096>b&&(g+="0");return ac[a]=g+b.toString(16)}),'"')}function Aa(a,b){this.width=a;this.height=b}function Pa(a,b){for(var c in a)b.call(void 0,a[c],c,a)}function Vc(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function bc(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function ma(a,b,c){if(b in a)throw Error('The object already contains the key "'+b+'"');a[b]=c}function Wc(a,b){for(var c,d,g=1;g<arguments.length;g++){d=arguments[g];for(c in d)a[c]=d[c];for(var f=0;f<Xc.length;f++)c=
Xc[f],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}function qb(a){var b=arguments.length;if(1==b&&J(arguments[0]))return qb.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c}function Yc(a){a.prototype.then=a.prototype.then;a.prototype.$goog_Thenable=!0}function Zc(a){if(!a)return!1;try{return!!a.$goog_Thenable}catch(b){return!1}}function cc(a){cc[" "](a);return a}function $c(a,b){try{return cc(a[b]),!0}catch(c){}return!1}function rb(a,b){var c=String(b).toLowerCase(),
d=String(a.substr(0,b.length)).toLowerCase();return 0==(c<d?-1:c==d?0:1)}function Oe(a,b){for(var c=a.split("%s"),d="",g=Array.prototype.slice.call(arguments,1);g.length&&1<c.length;)d+=c.shift()+g.shift();return d+c.join("%s")}function ha(a){return/^[\s\xa0]*$/.test(null==a?"":String(a))}function Ba(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}function na(a){if(!Pe.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(Qe,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(Re,"&lt;"));-1!=a.indexOf(">")&&
(a=a.replace(Se,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(Te,"&quot;"));-1!=a.indexOf("'")&&(a=a.replace(Ue,"&#39;"));-1!=a.indexOf("\x00")&&(a=a.replace(Ve,"&#0;"));return a}function ad(a){return String(a).replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")}function dc(a,b){return a<b?-1:a>b?1:0}function bd(a){var b=Number(a);return 0==b&&/^[\s\xa0]*$/.test(a)?NaN:b}function We(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}function Xe(a){var b=
l(void 0)?ad(void 0):"\\s";return a.replace(new RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,g){return b+g.toUpperCase()})}function cd(a){isFinite(a)&&(a=String(a));return l(a)?/^\s*-?0x/i.test(a)?parseInt(a,16):parseInt(a,10):NaN}function sb(a,b){b.unshift(a);R.call(this,Oe.apply(null,b));b.shift()}function dd(a,b,c,d){var g="Assertion failed";if(c)var g=g+(": "+c),f=d;else a&&(g+=": "+a,f=b);throw new sb(""+g,f||[]);}function u(a,b,c){a||dd("",null,b,Array.prototype.slice.call(arguments,
2))}function Ca(a,b){throw new sb("Failure"+(a?": "+a:""),Array.prototype.slice.call(arguments,1));}function Ye(a,b,c){Z(a)||dd("Expected object but got %s: %s.",[ob(a),a],b,Array.prototype.slice.call(arguments,2))}function tb(a,b){var c;a:{c=a.length;for(var d=l(a)?a.split(""):a,g=0;g<c;g++)if(g in d&&b.call(void 0,d[g],g,a)){c=g;break a}c=-1}return 0>c?null:l(a)?a.charAt(c):a[c]}function ec(a,b){var c=oa(a,b),d;if(d=0<=c)u(null!=a.length),P.splice.call(a,c,1);return d}function ed(a){return P.concat.apply(P,
arguments)}function fd(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}function gd(a){A(q.setImmediate)?q.setImmediate(a):(fc||(fc=Ze()),fc(a))}function Ze(){var a=q.MessageChannel;"undefined"===typeof a&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&(a=function(){var a=document.createElement("iframe");a.style.display="none";a.src="";document.documentElement.appendChild(a);var b=a.contentWindow,a=b.document;a.open();a.write("");a.close();
var c="callImmediate"+Math.random(),d=b.location.protocol+"//"+b.location.host,a=n(function(a){if(a.origin==d||a.data==c)this.port1.onmessage()},this);b.addEventListener("message",a,!1);this.port1={};this.port2={postMessage:function(){b.postMessage(c,d)}}});if("undefined"!==typeof a){var b=new a,c={},d=c;b.port1.onmessage=function(){c=c.next;var a=c.$cb$;c.$cb$=null;a()};return function(a){d.next={$cb$:a};d=d.next;b.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in
document.createElement("script")?function(a){var b=document.createElement("script");b.onreadystatechange=function(){b.onreadystatechange=null;b.parentNode.removeChild(b);b=null;a();a=null};document.documentElement.appendChild(b)}:function(a){q.setTimeout(a,0)}}function hd(a){if(a.classList)return a.classList;a=a.className;return l(a)&&a.match(/\S+/g)||[]}function id(a,b){var c;a.classList?c=a.classList.contains(b):(c=hd(a),c=0<=oa(c,b));return c}function jd(a,b){a.classList?a.classList.add(b):id(a,
b)||(a.className+=0<a.className.length?" "+b:b)}function kd(a,b){a.classList?a.classList.remove(b):id(a,b)&&(a.className=ld(hd(a),function(a){return a!=b}).join(" "))}function pa(a){this.src=a;this.$listeners$={};this.$typeCount_$=0}function gc(a,b){var c=b.type;if(!(c in a.$listeners$))return!1;var d=ec(a.$listeners$[c],b);d&&(pb(b),0==a.$listeners$[c].length&&(delete a.$listeners$[c],a.$typeCount_$--));return d}function hc(a,b,c,d){for(var g=0;g<a.length;++g){var f=a[g];if(!f.$removed$&&f.$listener$==
b&&f.$capture$==!!c&&f.$handler$==d)return g}return-1}function ba(a){return-1!=Qa.indexOf(a)}function Ra(a,b){this.x=O(a)?a:0;this.y=O(b)?b:0}function ia(){this.$stringConstValueWithSecurityContract__googStringSecurityPrivate_$="";this.$STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_$=md}function nd(a){if(a instanceof ia&&a.constructor===ia&&a.$STRING_CONST_TYPE_MARKER__GOOG_STRING_SECURITY_PRIVATE_$===md)return a.$stringConstValueWithSecurityContract__googStringSecurityPrivate_$;Ca("expected object of type Const, got '"+
a+"'");return"type_error:Const"}function qa(){this.$privateDoNotAccessOrElseSafeStyleWrappedValue_$="";this.$SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_$=od}function pd(a){var b=new qa;b.$privateDoNotAccessOrElseSafeStyleWrappedValue_$=a;return b}function ub(){this.$privateDoNotAccessOrElseSafeHtmlWrappedValue_$="";this.$SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_$=qd}function Sa(){this.$privateDoNotAccessOrElseSafeHtmlWrappedValue_$="";this.$SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_$=
rd;this.$dir_$=null}function ic(a){if(a instanceof Sa&&a.constructor===Sa&&a.$SAFE_HTML_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_$===rd)return a.$privateDoNotAccessOrElseSafeHtmlWrappedValue_$;Ca("expected object of type SafeHtml, got '"+a+"'");return"type_error:SafeHtml"}function $e(a){function b(a){if(J(a))F(a,b);else{if(!(a instanceof Sa)){var f=null;a.$implementsGoogI18nBidiDirectionalString$&&(f=a.$getDirection$());a=vb(na(a.$implementsGoogStringTypedString$?a.$getTypedStringValue$():String(a)),
f)}d+=ic(a);a=a.$getDirection$();0==c?c=a:0!=a&&c!=a&&(c=null)}}var c=0,d="";F(arguments,b);return vb(d,c)}function vb(a,b){var c=new Sa;c.$privateDoNotAccessOrElseSafeHtmlWrappedValue_$=a;c.$dir_$=b;return c}function wb(a,b){this.$map_$={};this.$keys_$=[];this.$count_$=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var d=0;d<c;d+=2)this.set(arguments[d],arguments[d+1])}else if(a){a instanceof wb?(c=a.$getKeys$(),d=a.$getValues$()):(c=bc(a),d=Vc(a));for(var g=
0;g<c.length;g++)this.set(c[g],d[g])}}function jc(a){if(a.$count_$!=a.$keys_$.length){for(var b=0,c=0;b<a.$keys_$.length;){var d=a.$keys_$[b];Da(a.$map_$,d)&&(a.$keys_$[c++]=d);b++}a.$keys_$.length=c}if(a.$count_$!=a.$keys_$.length){for(var g={},c=b=0;b<a.$keys_$.length;)d=a.$keys_$[b],Da(g,d)||(a.$keys_$[c++]=d,g[d]=1),b++;a.$keys_$.length=c}}function Da(a,b){return Object.prototype.hasOwnProperty.call(a,b)}function af(a){if("function"==typeof a.$getValues$)return a.$getValues$();if(l(a))return a.split("");
if(Xb(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return Vc(a)}function sd(a){gd(function(){throw a;})}function xb(a,b){kc||(gd(bf),kc=!0);yb.push(new cf(a,b))}function bf(){for(;yb.length;){var a=yb;yb=[];for(var b=0;b<a.length;b++){var c=a[b];try{c.fn.call(c.scope)}catch(d){sd(d)}}}kc=!1}function cf(a,b){this.fn=a;this.scope=b}function ja(a,b){this.$state_$=ra;this.$result_$=void 0;this.$callbackEntries_$=this.$parent_$=null;this.$hadUnhandledRejection_$=this.$executing_$=!1;this.$stack_$=
[];td(this,Error("created"));this.$currentStep_$=0;try{var c=this;a.call(b,function(a){Ea(c,Ta,a)},function(a){Ea(c,V,a)})}catch(d){Ea(this,V,d)}}function ud(a,b){if(a.$state_$==ra)if(a.$parent_$){var c=a.$parent_$;if(c.$callbackEntries_$){for(var d=0,g=-1,f=0,e;e=c.$callbackEntries_$[f];f++)if(e=e.$child$)if(d++,e==a&&(g=f),0<=g&&1<d)break;0<=g&&(c.$state_$==ra&&1==d?ud(c,b):(d=c.$callbackEntries_$.splice(g,1)[0],V==Ta?d.$onFulfilled$(b):(vd(c),d.$onRejected$(b))))}}else Ea(a,V,b)}function df(a,
b){a.$callbackEntries_$&&a.$callbackEntries_$.length||a.$state_$!=Ta&&a.$state_$!=V||a.$executing_$||(a.$executing_$=!0,xb(a.$executeCallbacks_$,a));a.$callbackEntries_$||(a.$callbackEntries_$=[]);a.$callbackEntries_$.push(b)}function ef(a,b,c,d){var g={$child$:null,$onFulfilled$:null,$onRejected$:null};g.$child$=new ja(function(a,e){g.$onFulfilled$=b?function(c){try{var g=b.call(d,c);a(g)}catch(m){e(m)}}:a;g.$onRejected$=c?function(b){try{var g=c.call(d,b);!O(g)&&b instanceof Ua?e(b):a(g)}catch(m){e(m)}}:
e});g.$child$.$parent_$=a;df(a,g);return g.$child$}function Ea(a,b,c){if(a.$state_$==ra){if(a==c)b=V,c=new TypeError("Promise cannot resolve to itself");else{if(Zc(c)){a.$state_$=1;c.then(a.$unblockAndFulfill_$,a.$unblockAndReject_$,a);return}if(Z(c))try{var d=c.then;if(A(d)){ff(a,c,d);return}}catch(g){b=V,c=g}}a.$result_$=c;a.$state_$=b;a.$executing_$||(a.$executing_$=!0,xb(a.$executeCallbacks_$,a));b!=V||c instanceof Ua||gf(a,c)}}function ff(a,b,c){function d(b){f||(f=!0,a.$unblockAndReject_$(b))}
function g(b){f||(f=!0,a.$unblockAndFulfill_$(b))}a.$state_$=1;var f=!1;try{c.call(b,g,d)}catch(e){d(e)}}function td(a,b){if(l(b.stack)){var c=b.stack.split("\n",4)[3],d=b.message,d=d+Array(11-d.length).join(" ");a.$stack_$.push(d+c)}}function vd(a){for(;a&&a.$hadUnhandledRejection_$;a=a.$parent_$)a.$hadUnhandledRejection_$=!1}function gf(a,b){a.$hadUnhandledRejection_$=!0;xb(function(){if(a.$hadUnhandledRejection_$){if(b&&l(b.stack)&&a.$stack_$.length){for(var c=["Promise trace:"],d=a;d;d=d.$parent_$){for(var g=
a.$currentStep_$;0<=g;g--)c.push(d.$stack_$[g]);c.push("Value: ["+(d.$state_$==V?"REJECTED":"FULFILLED")+"] <"+String(d.$result_$)+">")}b.stack+="\n\n"+c.join("\n")}hf.call(null,b)}})}function Ua(a){R.call(this,a)}function wd(){var a=q.document;return a?a.documentMode:void 0}function S(a){var b;if(!(b=xd[a])){b=0;for(var c=Ba(String(yd)).split("."),d=Ba(String(a)).split("."),g=Math.max(c.length,d.length),f=0;0==b&&f<g;f++){var e=c[f]||"",h=d[f]||"",p=RegExp("(\\d*)(\\D*)","g"),m=RegExp("(\\d*)(\\D*)",
"g");do{var l=p.exec(e)||["","",""],n=m.exec(h)||["","",""];if(0==l[0].length&&0==n[0].length)break;b=dc(0==l[1].length?0:parseInt(l[1],10),0==n[1].length?0:parseInt(n[1],10))||dc(0==l[2].length,0==n[2].length)||dc(l[2],n[2])}while(0==b)}b=xd[a]=0<=b}return b}function jf(a){var b;b||(b=zd(a||arguments.callee.caller,[]));return b}function zd(a,b){var c=[];if(0<=oa(b,a))c.push("[...circular reference...]");else if(a&&50>b.length){c.push(Ad(a)+"(");for(var d=a.arguments,g=0;d&&g<d.length;g++){0<g&&c.push(", ");
var f;f=d[g];switch(typeof f){case "object":f=f?"object":"null";break;case "string":break;case "number":f=String(f);break;case "boolean":f=f?"true":"false";break;case "function":f=(f=Ad(f))?f:"[fn]";break;default:f=typeof f}40<f.length&&(f=f.substr(0,40)+"...");c.push(f)}b.push(a);c.push(")\n");try{c.push(zd(a.caller,b))}catch(e){c.push("[exception trying to get caller]\n")}}else a?c.push("[...long stack...]"):c.push("[end]");return c.join("")}function Ad(a){if(Va[a])return Va[a];a=String(a);if(!Va[a]){var b=
/function ([^\(]+)/.exec(a);Va[a]=b?b[1]:"[Anonymous]"}return Va[a]}function Wa(a){this.$name_$=a;this.$handlers_$=this.$children_$=this.$level_$=this.$parent_$=null}function sa(a,b){this.name=a;this.value=b}function Bd(a){if(a.$level_$)return a.$level_$;if(a.$parent_$)return Bd(a.$parent_$);Ca("Root logger has no level set.");return null}function zb(a){Ab||(Ab=new Wa(""),lc[""]=Ab,Ab.$setLevel$(kf));var b;if(!(b=lc[a])){b=new Wa(a);var c=a.lastIndexOf("."),d=a.substr(c+1),c=zb(a.substr(0,c));c.$getChildren$()[d]=
b;b.$parent_$=c;lc[a]=b}return b}function Xa(a){return a?new mc(Ya(a)):Cd||(Cd=new mc)}function lf(a,b){Pa(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in Dd?a.setAttribute(Dd[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}function mf(a,b,c){var d=arguments,g=document,f=d[0],e=d[1];if(!nf&&e&&(e.name||e.type)){f=["<",f];e.name&&f.push(' name="',na(e.name),'"');if(e.type){f.push(' type="',na(e.type),'"');var h=
{};Wc(h,e);delete h.type;e=h}f.push(">");f=f.join("")}f=g.createElement(f);e&&(l(e)?f.className=e:J(e)?f.className=e.join(" "):lf(f,e));2<d.length&&of(g,f,d);return f}function of(a,b,c){function d(c){c&&b.appendChild(l(c)?a.createTextNode(c):c)}for(var g=2;g<c.length;g++){var f=c[g];!Xb(f)||Z(f)&&0<f.nodeType?d(f):F(pf(f)?fd(f):f,d)}}function Bb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}function nc(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if("undefined"!=typeof a.compareDocumentPosition)return a==
b||!!(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}function Ya(a){u(a,"Node cannot be null or undefined.");return 9==a.nodeType?a:a.ownerDocument||a.document}function pf(a){if(a&&"number"==typeof a.length){if(Z(a))return"function"==typeof a.item||"string"==typeof a.item;if(A(a))return"function"==typeof a.item}return!1}function mc(a){this.$document_$=a||q.document||document}function Fa(a,b){ga.call(this,a?a.type:"");this.relatedTarget=this.currentTarget=this.target=null;
this.charCode=this.keyCode=this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0;this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1;this.$event_$=this.state=null;if(a){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;d?W&&($c(d,"nodeName")||(d=null)):"mouseover"==c?d=a.fromElement:"mouseout"==c&&(d=a.toElement);this.relatedTarget=d;this.offsetX=y||void 0!==a.offsetX?a.offsetX:a.layerX;this.offsetY=y||void 0!==
a.offsetY?a.offsetY:a.layerY;this.clientX=void 0!==a.clientX?a.clientX:a.pageX;this.clientY=void 0!==a.clientY?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||("keypress"==c?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.state=a.state;this.$event_$=a;a.defaultPrevented&&this.preventDefault()}}function ca(a,b,c,d,g){if(J(b)){for(var f=0;f<b.length;f++)ca(a,
b[f],c,d,g);return null}c=Cb(c);return za(a)?a.$listen$(b,c,d,g):Ed(a,b,c,!1,d,g)}function Ed(a,b,c,d,g,f){if(!b)throw Error("Invalid event type");var e=!!g,h=Za(a);h||(a[oc]=h=new pa(a));c=h.add(b,c,d,g,f);if(c.proxy)return c;d=qf();c.proxy=d;d.src=a;d.$listener$=c;a.addEventListener?a.addEventListener(b.toString(),d,e):a.attachEvent(Fd(b.toString()),d);Gd++;return c}function qf(){var a=rf,b=Hd?function(c){return a.call(b.src,b.$listener$,c)}:function(c){c=a.call(b.src,b.$listener$,c);if(!c)return c};
return b}function pc(a,b,c,d,g){if(J(b)){for(var f=0;f<b.length;f++)pc(a,b[f],c,d,g);return null}c=Cb(c);return za(a)?a.$listenOnce$(b,c,d,g):Ed(a,b,c,!0,d,g)}function $a(a,b,c,d,g){if(J(b)){for(var f=0;f<b.length;f++)$a(a,b[f],c,d,g);return null}c=Cb(c);if(za(a))return a.$unlisten$(b,c,d,g);if(!a)return!1;if(a=Za(a))if(b=a.$getListener$(b,c,!!d,g))return Db(b);return!1}function Db(a){if(xa(a)||!a||a.$removed$)return!1;var b=a.src;if(za(b))return gc(b.$eventTargetListeners_$,a);var c=a.type,d=a.proxy;
b.removeEventListener?b.removeEventListener(c,d,a.$capture$):b.detachEvent&&b.detachEvent(Fd(c),d);Gd--;(c=Za(b))?(gc(c,a),0==c.$typeCount_$&&(c.src=null,b[oc]=null)):pb(a);return!0}function Id(a,b,c,d,g){c=Cb(c);d=!!d;return za(a)?a.$getListener$(b,c,d,g):a?(a=Za(a))?a.$getListener$(b,c,d,g):null:null}function Fd(a){return a in qc?qc[a]:qc[a]="on"+a}function Jd(a,b,c,d){var g=1;if(a=Za(a))if(b=a.$listeners$[b.toString()])for(b=b.concat(),a=0;a<b.length;a++){var f=b[a];f&&f.$capture$==c&&!f.$removed$&&
(g&=!1!==Kd(f,d))}return!!g}function Kd(a,b){var c=a.$listener$,d=a.$handler$||a.src;a.$callOnce$&&Db(a);return c.call(d,b)}function w(a,b){u(za(a),"Can not use goog.events.dispatchEvent with non-goog.events.Listenable instance.");a.dispatchEvent(b)}function rf(a,b){if(a.$removed$)return!0;if(!Hd){var c=b||nb("window.event"),d=new Fa(c,this),g=!0;if(!(0>c.keyCode||void 0!=c.returnValue)){a:{var f=!1;if(0==c.keyCode)try{c.keyCode=-1;break a}catch(e){f=!0}if(f||void 0==c.returnValue)c.returnValue=!0}c=
[];for(f=d.currentTarget;f;f=f.parentNode)c.push(f);for(var f=a.type,k=c.length-1;!d.$propagationStopped_$&&0<=k;k--)d.currentTarget=c[k],g&=Jd(c[k],f,!0,d);for(k=0;!d.$propagationStopped_$&&k<c.length;k++)d.currentTarget=c[k],g&=Jd(c[k],f,!1,d)}return g}return Kd(a,new Fa(b,this))}function Za(a){a=a[oc];return a instanceof pa?a:null}function Cb(a){u(a,"Listener can not be null.");if(A(a))return a;u(a.handleEvent,"An object listener must have handleEvent method.");return a[Ld]||(a[Ld]=function(b){return a.handleEvent(b)})}
function Ga(a){K.call(this);this.$handler_$=a;this.$keys_$={}}function rc(a,b,c,d,g,f){if(J(c))for(var e=0;e<c.length;e++)rc(a,b,c[e],d,g,f);else{b=pc(b,c,d||a.handleEvent,g,f||a.$handler_$||a);if(!b)return a;a.$keys_$[b.key]=b}return a}function X(){K.call(this);this.$eventTargetListeners_$=new pa(this);this.$actualEventTarget_$=this;this.$parentEventTarget_$=null}function Eb(a,b,c,d){b=a.$eventTargetListeners_$.$listeners$[String(b)];if(!b)return!0;b=b.concat();for(var g=!0,f=0;f<b.length;++f){var e=
b[f];if(e&&!e.$removed$&&e.$capture$==c){var h=e.$listener$,p=e.$handler$||e.src;e.$callOnce$&&gc(a.$eventTargetListeners_$,e);g=!1!==h.call(p,d)&&g}}return g&&0!=d.$returnValue_$}function Md(a){u(a.$eventTargetListeners_$,"Event target is not initialized. Did you call the superclass (goog.events.EventTarget) constructor?")}function B(a){var b=G;b&&b.log(sf,a,void 0)}function T(a,b){var c=G;c&&c.log(tf,a,b)}function L(a,b,c){a&&a.log(uf,b,c)}function x(a){var b=G;b&&b.info(a,void 0)}function C(a){var b=
G;b&&b.log(vf,a,void 0)}function ka(){K.call(this);this.$services_$={}}function Nd(a,b,c){a.$services_$[b]={$callback$:c,$objectPayload$:!0}}function ab(a){for(var b=wf,c=b.length,d="";0<a--;)d+=b.charAt(Math.floor(Math.random()*c));return d}function D(a){K.call(this);this.$domHelper_$=a||Xa()}function Fb(a,b){D.call(this,b);this.$channel_$=a;this.$queue_$=[];this.$deliverQueuedCb_$=n(this.$deliverQueued_$,this)}function bb(a,b){D.call(this,b);this.$channel_$=a;this.$sendUri_$=this.$channel_$.$cfg_$.ppu;
this.$rcvUri_$=this.$channel_$.$cfg_$.lpu;this.$sendQueue_$=[]}function Gb(a){return"googlexpc_"+a.$channel_$.name+"_msg"}function Hb(a){return"googlexpc_"+a.$channel_$.name+"_ack"}function sc(a){try{if(!a.$disposed_$&&tc(a.$channel_$))return a.$channel_$.$peerWindowObject_$.frames||{}}catch(b){C("error retrieving peer frames")}return{}}function uc(a,b){return sc(a)[b]}function vc(a,b){B("constructing sender frame: "+b);var c;c=document.createElement("iframe");var d=c.style;d.position="absolute";
d.top="-10px";d.left="10px";d.width="1px";d.height="1px";c.id=c.name=b;c.src=a.$sendUri_$+"#INITIAL";a.$getWindow$().document.body.appendChild(c);return c}function Od(a){B("deconstructSenderFrames called");a.$msgIframeElm_$&&(a.$msgIframeElm_$.parentNode.removeChild(a.$msgIframeElm_$),a.$msgIframeElm_$=null,a.$msgWinObj_$=null);a.$ackIframeElm_$&&(a.$ackIframeElm_$.parentNode.removeChild(a.$ackIframeElm_$),a.$ackIframeElm_$=null,a.$ackWinObj_$=null)}function Pd(a,b){B("checking for receive frame: "+
b);try{var c=uc(a,b);if(!c||0!=c.location.href.indexOf(a.$rcvUri_$))return!1}catch(d){return!1}return!0}function Qd(a){if(a.$sentConnectionSetupAck_$&&a.$rcvdConnectionSetupAck_$){if(a.$channel_$.$notifyConnected$(),a.$deliveryQueue_$){C("delivering queued messages ("+a.$deliveryQueue_$.length+")");for(var b=0,c;b<a.$deliveryQueue_$.length;b++)c=a.$deliveryQueue_$[b],a.$channel_$.$xpcDeliver$(c.$service$,c.$payload$);delete a.$deliveryQueue_$}}else B("checking if connected: ack sent:"+a.$sentConnectionSetupAck_$+
", ack rcvd: "+a.$rcvdConnectionSetupAck_$)}function Rd(a){if(!a.$waitForAck_$&&a.$sendQueue_$.length){var b=a.$sendQueue_$.shift();++a.$sequence_$;a.$msgSender_$.send(a.$sequence_$+b);B("msg sent: "+a.$sequence_$+b);a.$waitForAck_$=!0}}function Sd(a,b){var c=b.indexOf(":"),d=b.substr(0,c),c=b.substring(c+1);a.$channel_$.$isConnected$()?a.$channel_$.$xpcDeliver$(d,c):((a.$deliveryQueue_$||(a.$deliveryQueue_$=[])).push({$service$:d,$payload$:c}),B("queued delivery"))}function Td(){C("starting receive-timer");
wc=Y();Ib&&window.clearTimeout(Ib);Ib=window.setTimeout(Ud,10)}function xc(a,b){this.$sendUri_$=a;this.$sendFrame_$=b;this.$cycle_$=0}function Vd(a,b,c){this.$transport_$=a;this.$rcvFrame_$=b;this.$cb_$=c;this.$currentLoc_$=this.$rcvFrame_$.location.href.split("#")[0]+"#INITIAL";yc.push(this);Td()}function Jb(a,b){D.call(this,b);this.$channel_$=a;this.$peerRelayUri_$=this.$channel_$.$cfg_$.pru;this.$peerIframeId_$=this.$channel_$.$cfg_$.ifrid;y&&xf()}function yf(a,b){var c=b.indexOf(":"),d=b.substr(0,
c),g=b.substr(c+1);if(t&&-1!=(c=d.indexOf("|"))){var f=d.substr(0,c),d=d.substr(c+1),c=d.indexOf("+"),e=d.substr(0,c),c=parseInt(d.substr(c+1),10),h=zc[e];h||(h=zc[e]={$fragments$:[],$received$:0,$expected$:0});-1!=d.indexOf("++")&&(h.$expected$=c+1);h.$fragments$[c]=g;h.$received$++;if(h.$received$!=h.$expected$)return;g=h.$fragments$.join("");delete zc[e]}else f=d;M[a].$xpcDeliver$(f,decodeURIComponent(g))}function Wd(a,b,c,d){if(t){var g=a.$getWindow$().document.createElement("div"),f;f=new ia;
f.$stringConstValueWithSecurityContract__googStringSecurityPrivate_$="this.xpcOnload()";var e={onload:f};if(!Xd.test("iframe"))throw Error("Invalid tag name <iframe>.");if("iframe"in zf)throw Error("Tag name <iframe> is not allowed for SafeHtml.");var h=null;f="<iframe";if(e)for(var p in e){if(!Xd.test(p))throw Error('Invalid attribute name "'+p+'".');var m=e[p];if(null!=m){if(m instanceof ia)m=nd(m);else if("style"==p.toLowerCase()){if(!Z(m))throw Error('The "style" attribute requires goog.html.SafeStyle or map of style properties, '+
typeof m+" given: "+m);if(!(m instanceof qa)){var n="",q=void 0;for(q in m){if(!/^[-_a-zA-Z0-9]+$/.test(q))throw Error("Name allows only [-_a-zA-Z0-9], got: "+q);var r=m[q];null!=r&&(r instanceof ia?(r=nd(r),u(!/[{;}]/.test(r),"Value does not allow [{;}].")):Af.test(r)||(Ca("String value allows only [-.%_!# a-zA-Z0-9], got: "+r),r="zClosurez"),n+=q+":"+r+";")}n?(u(!/[<>]/.test(n),"Forbidden characters in style string: "+n),m=pd(n)):m=Bf}n=void 0;m instanceof qa&&m.constructor===qa&&m.$SAFE_STYLE_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_$===
od?n=m.$privateDoNotAccessOrElseSafeStyleWrappedValue_$:(Ca("expected object of type SafeStyle, got '"+m+"'"),n="type_error:SafeStyle");m=n}else{if(/^on/i.test(p))throw Error('Attribute "'+p+'" requires goog.string.Const value, "'+m+'" given.');if(m instanceof ub)m instanceof ub&&m.constructor===ub&&m.$SAFE_URL_TYPE_MARKER_GOOG_HTML_SECURITY_PRIVATE_$===qd?m=m.$privateDoNotAccessOrElseSafeHtmlWrappedValue_$:(Ca("expected object of type SafeUrl, got '"+m+"'"),m="type_error:SafeUrl");else if(p.toLowerCase()in
Cf)throw Error('Attribute "'+p+'" requires goog.string.Const or goog.html.SafeUrl value, "'+m+'" given.');}u(l(m)||xa(m),"String or number value expected, got "+typeof m+" with value: "+m);f+=" "+p+'="'+na(String(m))+'"'}}p=void 0;O(p)?J(p)||(p=[p]):p=[];"iframe"in Df?(u(!p.length,"Void tag <iframe> does not allow content."),f+=">"):(h=$e(p),f+=">"+ic(h)+"</iframe>",h=h.$getDirection$());(e=e&&e.dir)&&(h=/^(ltr|rtl|auto)$/i.test(e)?0:null);f=vb(f,h);g.innerHTML=ic(f);g=g.childNodes[0];g.xpcOnload=
Yd}else g=a.$getWindow$().document.createElement("iframe"),y?Kb.push({timestamp:Y(),$iframeElement$:g}):ca(g,"load",Yd);f=g.style;f.visibility="hidden";f.width=g.style.height="0px";f.position="absolute";f=a.$peerRelayUri_$;f+="#"+a.$channel_$.name;a.$peerIframeId_$&&(f+=","+a.$peerIframeId_$);f+="|"+b;d&&(f+="|"+d);f+=":"+c;g.src=f;a.$getWindow$().document.body.appendChild(g);B("msg sent: "+f)}function Yd(){B("iframe-load");Bb(this)}function Lb(a,b){D.call(this,b);this.$channel_$=a;this.$authToken_$=
a.at||"";this.$remoteAuthToken_$=a.rat||"";var c=this.$getWindow$();if(!c.nix_setup_complete){var d="Class GCXPC____NIXVBS_wrapper\n Private m_Transport\nPrivate m_Auth\nPublic Sub SetTransport(transport)\nIf isEmpty(m_Transport) Then\nSet m_Transport = transport\nEnd If\nEnd Sub\nPublic Sub SetAuth(auth)\nIf isEmpty(m_Auth) Then\nm_Auth = auth\nEnd If\nEnd Sub\nPublic Function GetAuthToken()\n GetAuthToken = m_Auth\nEnd Function\nPublic Sub SendMessage(service, payload)\n Call m_Transport."+Zd+"(service, payload)\nEnd Sub\nPublic Sub CreateChannel(channel)\n Call m_Transport."+
$d+"(channel)\nEnd Sub\nPublic Sub GCXPC____NIXVBS_container()\n End Sub\nEnd Class\n Function GCXPC____NIXVBS_get_wrapper(transport, auth)\nDim wrap\nSet wrap = New GCXPC____NIXVBS_wrapper\nwrap.SetTransport transport\nwrap.SetAuth auth\nSet GCXPC____NIXVBS_get_wrapper = wrap\nEnd Function";try{c.execScript(d,"vbscript"),c.nix_setup_complete=!0}catch(g){T("exception caught while attempting global setup: "+g)}}this[Zd]=this.$handleMessage_$;this[$d]=this.$createChannel_$}function Mb(a,b){l(b)?ae(a,
void 0,b):Pa(b,Na(ae,a))}function ae(a,b,c){if(c=We(c),void 0===a.style[c]){var d=(y?"Webkit":W?"Moz":t?"ms":cb?"O":null)+Xe(c);void 0!==a.style[d]&&(c=d)}c&&(a.style[c]=b)}function be(a,b){var c=Ya(a);return c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))?c[b]||c.getPropertyValue(b)||"":""}function db(a,b){return be(a,b)||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}function ce(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,
top:0,right:0,bottom:0}}t&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}function Ef(a){if(t&&!(t&&8<=eb))return a.offsetParent;var b=Ya(a),c=db(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=db(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==
c||"relative"==c))return a;return null}function Ha(a){var b,c=Ya(a),d=db(a,"position");Ye(a,"Parameter is required");var g=W&&c.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==d&&(b=c.getBoxObjectFor(a))&&(0>b.screenX||0>b.screenY),f=new Ra(0,0),e;b=c?Ya(c):document;(e=!t||t&&9<=eb)||(e="CSS1Compat"==Xa(b).$document_$.compatMode);e=e?b.documentElement:b.body;if(a==e)return f;if(a.getBoundingClientRect)b=ce(a),c=Xa(c).$document_$,a=y||"CSS1Compat"!=c.compatMode?c.body||c.documentElement:c.documentElement,
c=c.parentWindow||c.defaultView,a=t&&S("10")&&c.pageYOffset!=a.scrollTop?new Ra(a.scrollLeft,a.scrollTop):new Ra(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop),f.x=b.left+a.x,f.y=b.top+a.y;else if(c.getBoxObjectFor&&!g)b=c.getBoxObjectFor(a),a=c.getBoxObjectFor(e),f.x=b.screenX-a.screenX,f.y=b.screenY-a.screenY;else{b=a;do{f.x+=b.offsetLeft;f.y+=b.offsetTop;b!=a&&(f.x+=b.clientLeft||0,f.y+=b.clientTop||0);if(y&&"fixed"==db(b,"position")){f.x+=c.body.scrollLeft;f.y+=c.body.scrollTop;break}b=
b.offsetParent}while(b&&b!=a);if(cb||y&&"absolute"==d)f.y-=c.body.offsetTop;for(b=a;(b=Ef(b))&&b!=c.body&&b!=e;)f.x-=b.scrollLeft,cb&&"TR"==b.tagName||(f.y-=b.scrollTop)}return f}function de(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function Ac(a){var b=Ff;if("none"!=db(a,"display"))return b(a);var c=a.style,d=c.display,g=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";a=b(a);c.display=d;c.position=f;c.visibility=g;return a}function Ff(a){var b=
a.offsetWidth,c=a.offsetHeight,d=y&&!b&&!c;return O(b)&&!d||!a.getBoundingClientRect?new Aa(b,c):(a=ce(a),new Aa(a.right-a.left,a.bottom-a.top))}function fb(a,b){X.call(this);this.$interval_$=a||1;this.$timerObject_$=b||q;this.$boundTick_$=n(this.$tick_$,this);this.$last_$=Y()}function Bc(a,b){if(!A(a))if(a&&"function"==typeof a.handleEvent)a=n(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:q.setTimeout(a,b||0)}function Nb(a,b,c){K.call(this);this.$listener_$=
a;this.$interval_$=b||0;this.$handler_$=c;this.$callback_$=n(this.$doAction_$,this)}function Cc(a){if(Dc){Dc=!1;var b=q.location;if(b){var c=b.href;if(c&&(c=(c=Cc(c)[3]||null)&&decodeURIComponent(c))&&c!=b.hostname)throw Dc=!0,Error();}}return a.match(Gf)}function ee(a){var b=Cc(a);a=b[1];var c=b[2],d=b[3],b=b[4],g="";a&&(g+=a+":");d&&(g+="//",c&&(g+=c+"@"),g+=d,b&&(g+=":"+b));return g}function Ia(a,b){var c;if(a instanceof Ia)this.$ignoreCase_$=O(b)?b:a.$ignoreCase_$,fe(this,a.$scheme_$),c=a.$userInfo_$,
Q(this),this.$userInfo_$=c,c=a.$domain_$,Q(this),this.$domain_$=c,ge(this,a.$port_$),c=a.$path_$,Q(this),this.$path_$=c,he(this,a.$queryData_$.clone()),c=a.$fragment_$,Q(this),this.$fragment_$=c;else if(a&&(c=Cc(String(a)))){this.$ignoreCase_$=!!b;fe(this,c[1]||"",!0);var d=c[2]||"";Q(this);this.$userInfo_$=Ja(d);d=c[3]||"";Q(this);this.$domain_$=Ja(d);ge(this,c[4]);d=c[5]||"";Q(this);this.$path_$=Ja(d);he(this,c[6]||"",!0);c=c[7]||"";Q(this);this.$fragment_$=Ja(c)}else this.$ignoreCase_$=!!b,this.$queryData_$=
new la(null,0,this.$ignoreCase_$)}function fe(a,b,c){Q(a);a.$scheme_$=c?Ja(b):b;a.$scheme_$&&(a.$scheme_$=a.$scheme_$.replace(/:$/,""))}function ge(a,b){Q(a);if(b){b=Number(b);if(isNaN(b)||0>b)throw Error("Bad port number "+b);a.$port_$=b}else a.$port_$=null}function he(a,b,c){Q(a);b instanceof la?(a.$queryData_$=b,a.$queryData_$.$setIgnoreCase$(a.$ignoreCase_$)):(c||(b=gb(b,Hf)),a.$queryData_$=new la(b,0,a.$ignoreCase_$))}function If(){var a=new Ia(document.location.href);return Ja(a.$queryData_$.toString())}
function Q(a){if(a.$isReadOnly_$)throw Error("Tried to modify a read-only Uri");}function Ja(a){return a?decodeURIComponent(a):""}function gb(a,b){return l(a)?encodeURI(a).replace(b,Jf):null}function Jf(a){a=a.charCodeAt(0);return"%"+(a>>4&15).toString(16)+(a&15).toString(16)}function la(a,b,c){this.$encodedQuery_$=a||null;this.$ignoreCase_$=!!c}function ta(a){if(!a.$keyMap_$&&(a.$keyMap_$=new wb,a.$count_$=0,a.$encodedQuery_$))for(var b=a.$encodedQuery_$.split("&"),c=0;c<b.length;c++){var d=b[c].indexOf("="),
g=null,f=null;0<=d?(g=b[c].substring(0,d),f=b[c].substring(d+1)):g=b[c];g=decodeURIComponent(g.replace(/\+/g," "));g=ua(a,g);a.add(g,f?decodeURIComponent(f.replace(/\+/g," ")):"")}}function ie(a,b,c){a.remove(b);0<c.length&&(a.$encodedQuery_$=null,a.$keyMap_$.set(ua(a,b),fd(c)),a.$count_$+=c.length)}function ua(a,b){var c=String(b);a.$ignoreCase_$&&(c=c.toLowerCase());return c}function E(a,b){this.$sequence_$=[];this.$onCancelFunction_$=a;this.$defaultScope_$=b||null;this.$hadError_$=this.$fired_$=
!1;this.$result_$=void 0;this.$silentlyCanceled_$=this.$blocking_$=this.$blocked_$=!1;this.$unhandledErrorId_$=0;this.$parent_$=null;this.$branches_$=0;this.$constructorStack_$=null;if(Error.captureStackTrace){var c={stack:""};Error.captureStackTrace(c,E);"string"==typeof c.stack&&(this.$constructorStack_$=c.stack.replace(/^[^\n]*\n/,""))}}function Ec(a,b,c){a.$fired_$=!0;a.$result_$=c;a.$hadError_$=!b;je(a)}function ke(a){if(a.$fired_$){if(!a.$silentlyCanceled_$)throw new Ob(a);a.$silentlyCanceled_$=
!1}}function le(a,b){a.$constructorStack_$&&Z(b)&&b.stack&&/^[^\n]+(\n   [^\n]+)+/.test(b.stack)&&(b.stack=b.stack+"\nDEFERRED OPERATION:\n"+a.$constructorStack_$)}function me(a){u(!(a instanceof E),"An execution sequence may not be initiated with a blocking Deferred.")}function va(a,b,c,d){u(!a.$blocking_$,"Blocking Deferreds can not be re-used");a.$sequence_$.push([b,c,d]);a.$fired_$&&je(a)}function Ka(a,b){var c=n(b.$branch$,b);va(a,c,null,void 0)}function ne(a){return Kf(a.$sequence_$,function(a){return A(a[1])})}
function je(a){if(a.$unhandledErrorId_$&&a.$fired_$&&ne(a)){var b=a.$unhandledErrorId_$,c=hb[b];c&&(q.clearTimeout(c.$id_$),delete hb[b]);a.$unhandledErrorId_$=0}a.$parent_$&&(a.$parent_$.$branches_$--,delete a.$parent_$);for(var b=a.$result_$,d=c=!1;a.$sequence_$.length&&!a.$blocked_$;){var g=a.$sequence_$.shift(),f=g[0],e=g[1],g=g[2];if(f=a.$hadError_$?e:f)try{var h=f.call(g||a.$defaultScope_$,b);O(h)&&(a.$hadError_$=a.$hadError_$&&(h==b||a.isError(h)),a.$result_$=b=h);Zc(b)&&(d=!0,a.$blocked_$=
!0)}catch(p){b=p,a.$hadError_$=!0,le(a,b),ne(a)||(c=!0)}}a.$result_$=b;d&&(h=n(a.$continue_$,a,!0),d=n(a.$continue_$,a,!1),b instanceof E?(va(b,h,d),b.$blocking_$=!0):b.then(h,d));c&&(b=new oe(b),hb[b.$id_$]=b,a.$unhandledErrorId_$=b.$id_$)}function Ob(a){R.call(this);this.deferred=a}function ib(a){R.call(this);this.deferred=a}function oe(a){this.$id_$=q.setTimeout(n(this.$throwError$,this),0);this.$error_$=a}function Pb(a,b){D.call(this,b);this.$channel_$=a;this.$eventHandler_$=new Ga(this);Sc(this,
Na(aa,this.$eventHandler_$));this.$maybeAttemptToConnectTimer_$=new fb(100,this.$getWindow$());Sc(this,Na(aa,this.$maybeAttemptToConnectTimer_$));this.$setupAckReceived_$=new E;this.$setupAckSent_$=new E;this.$connected_$=new E;this.$endpointId_$=ab(10);this.$peerEndpointId_$=null;this.$asyncSendsMap_$={};this.$originalChannelName_$=this.$channel_$.name;Qb(this.$channel_$,this.$channel_$.name+"_"+N(this.$channel_$));this.$initialized_$=!1;Ka(this.$connected_$,this.$setupAckReceived_$);Ka(this.$connected_$,
this.$setupAckSent_$);va(this.$connected_$,this.$notifyConnected_$,null,this);this.$connected_$.$callback$(!0);this.$eventHandler_$.$listen$(this.$maybeAttemptToConnectTimer_$,Fc,this.$maybeAttemptToConnect_$);x("DirectTransport created. role="+N(this.$channel_$))}function Lf(a){var b=new pe(a.channelName,a.service,a.payload);a=b.$channelName$;var c=b.$service$,b=b.$payload$;C("messageReceived: channel="+a+", service="+c+", payload="+b);var d=M[a];if(d)return d.$xpcDeliver$(c,b),!0;var d=qe(b)[0],
g;for(g in M){var f=M[g];if(1==N(f)&&!f.$isConnected$()&&"tp"==c&&"SETUP"==d)return Qb(f,a),f.$xpcDeliver$(c,b),!0}x("channel name mismatch; message ignored.");return!1}function qe(a){a=a.split(",");a[1]=a[1]||null;return a}function pe(a,b,c){this.$channelName$=a;this.$service$=b;this.$payload$=c}function da(a,b,c,d,g){D.call(this,c);this.$channel_$=a;this.$protocolVersion_$=g||2;u(1<=this.$protocolVersion_$);u(2>=this.$protocolVersion_$);this.$peerHostname_$=b||"*";this.$eventHandler_$=new Ga(this);
this.$maybeAttemptToConnectTimer_$=new fb(100,this.$getWindow$());this.$oneSidedHandshake_$=!!d;this.$setupAckReceived_$=new E;this.$setupAckSent_$=new E;this.$connected_$=new E;this.$endpointId_$=ab(10);this.$peerEndpointId_$=null;this.$oneSidedHandshake_$?1==N(this.$channel_$)?Ka(this.$connected_$,this.$setupAckReceived_$):Ka(this.$connected_$,this.$setupAckSent_$):(Ka(this.$connected_$,this.$setupAckReceived_$),2==this.$protocolVersion_$&&Ka(this.$connected_$,this.$setupAckSent_$));va(this.$connected_$,
this.$notifyConnected_$,null,this);this.$connected_$.$callback$(!0);this.$eventHandler_$.$listen$(this.$maybeAttemptToConnectTimer_$,Fc,this.$maybeAttemptToConnect_$);x("NativeMessagingTransport created.  protocolVersion="+this.$protocolVersion_$+", oneSidedHandshake="+this.$oneSidedHandshake_$+", role="+N(this.$channel_$))}function re(a){var b=a.$event_$.data;if(!l(b))return!1;var c=b.indexOf("|"),d=b.indexOf(":");if(-1==c||-1==d)return!1;var g=b.substring(0,c),c=b.substring(c+1,d),b=b.substring(d+
1);C("messageReceived: channel="+g+", service="+c+", payload="+b);if(d=M[g])return d.$xpcDeliver$(c,b,a.$event_$.origin),!0;a=se(b)[0];for(var f in M)if(d=M[f],1==N(d)&&!d.$isConnected$()&&"tp"==c&&("SETUP"==a||"SETUP_NTPV2"==a))return Qb(d,g),d.$xpcDeliver$(c,b),!0;x('channel name mismatch; message ignored"');return!1}function Rb(a,b){b>a.$peerProtocolVersion_$&&(a.$peerProtocolVersion_$=b);1==a.$peerProtocolVersion_$&&(a.$setupAckSent_$.$fired_$||a.$oneSidedHandshake_$||a.$setupAckSent_$.$callback$(!0),
a.$peerEndpointId_$=null)}function se(a){a=a.split(",");a[1]=a[1]||null;return a}function jb(a,b){ka.call(this);for(var c=0,d;d=Mf[c];c++)if(d in a&&!/^https?:\/\//.test(a[d]))throw Error("URI "+a[d]+" is invalid for field "+d);this.$cfg_$=a;this.name=this.$cfg_$.cn||ab(10);this.$domHelper_$=b||Xa();this.$deferredDeliveries_$=[];this.$peerLoadHandler_$=new Ga(this);a.lpu=a.lpu||ee(this.$domHelper_$.$getWindow$().location.href)+"/robots.txt";a.ppu=a.ppu||ee(a.pu||"")+"/robots.txt";M[this.name]=this;
Id(window,"unload",te)||pc(window,"unload",te);x("CrossPageChannel created: "+this.name)}function tc(a){try{return!!a.$peerWindowObject_$&&!a.$peerWindowObject_$.closed}catch(b){return!1}}function Nf(a,b,c){x("createPeerIframe()");var d=a.$cfg_$.ifrid;d||(d=a.$cfg_$.ifrid="xpcpeer"+ab(4));var g=Xa(b).createElement("IFRAME");g.id=g.name=d;c?c(g):g.style.width=g.style.height="100%";ue(a);a.$peerWindowDeferred_$=new E(void 0,a);var f=Of(a);rc(a.$peerLoadHandler_$,g,"load",a.$peerWindowDeferred_$.$callback$,
!1,a.$peerWindowDeferred_$);W||y?window.setTimeout(n(function(){b.appendChild(g);g.src=f.toString();x("peer iframe created ("+d+")")},a),1):(g.src=f.toString(),b.appendChild(g),x("peer iframe created ("+d+")"))}function ue(a){a.$peerWindowDeferred_$&&(a.$peerWindowDeferred_$.cancel(),a.$peerWindowDeferred_$=null);a.$deferredDeliveries_$.length=0;a.$peerLoadHandler_$.removeAll()}function Of(a){var b=a.$cfg_$.pu;l(b)&&(b=a.$cfg_$.pu=new Ia(b));var c={};c.cn=a.name;c.tp=a.$cfg_$.tp;c.osh=a.$cfg_$.osh;
a.$cfg_$.lru&&(c.pru=a.$cfg_$.lru);a.$cfg_$.lpu&&(c.ppu=a.$cfg_$.lpu);a.$cfg_$.ppu&&(c.lpu=a.$cfg_$.ppu);(a=a.$cfg_$.role)&&(c.role=1==a?0:1);a=b;c=Oa(c);Q(a);a.$queryData_$.set("xpc",c);return b}function Pf(a){Qf.test(a)&&(a="%"+a);return a.replace(/[%:|]/g,encodeURIComponent)}function N(a){var b=a.$cfg_$.role;return xa(b)?b:window.parent==a.$peerWindowObject_$?1:0}function Qb(a,b){C("changing channel name to "+b);delete M[a.name];a.name=b;M[b]=a}function te(){for(var a in M)aa(M[a])}function ve(a){var b=
a.style.width,c=a.style.height,d="auto",g;d instanceof Aa?(g=d.height,d=d.width):g="auto";a.style.width=de(d);a.style.height=de(g);d=a.style;g=d.display;var f=d.visibility,e=d.position,h=d.width,p=d.height;d.visibility="hidden";d.position="absolute";d.display="inline-block";d.width="auto";d.height="auto";var m=a.offsetWidth,n=a.offsetHeight;d.display=g;d.position=e;d.visibility=f;d.width=h;d.height=p;d=new Aa(m,n);a.style.width=b;a.style.height=c;return d}function Rf(){function a(a){var b=a.$__resizeTriggers__$;
a=b.firstElementChild;var b=b.lastElementChild,c=a.firstElementChild;b.scrollLeft=b.scrollWidth;b.scrollTop=b.scrollHeight;c.style.width=a.offsetWidth+1+"px";c.style.height=a.offsetHeight+1+"px";a.scrollLeft=a.scrollWidth;a.scrollTop=a.scrollHeight}function b(b){var c=b.currentTarget;a(c);c.$__resizeRAF__$&&g(c.$__resizeRAF__$);c.$__resizeRAF__$=d(function(){if(c.offsetWidth!=c.$__resizeLast__$.width||c.offsetHeight!=c.$__resizeLast__$.height)c.$__resizeLast__$.width=c.offsetWidth,c.$__resizeLast__$.height=
c.offsetHeight,c.$__resizeListeners__$.forEach(function(a){a.call(c,b)})})}var c=document.attachEvent;if(!c)var d=function(){var a=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)};return function(b){return a.call(window,b)}}(),g=function(){var a=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(b){return a.call(window,b)}}();
window.$addResizeListener$=function(d,g){c?d.attachEvent("onresize",g):(d.$__resizeTriggers__$||("static"==be(d,"position")&&(d.style.position="relative"),d.$__resizeLast__$={},d.$__resizeListeners__$=[],(d.$__resizeTriggers__$=document.createElement("div")).className="resize-triggers",d.$__resizeTriggers__$.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',d.appendChild(d.$__resizeTriggers__$),a(d),d.addEventListener("scroll",b,!0)),d.$__resizeListeners__$.push(g))};
window.$removeResizeListener$=function(a,d){c?a.detachEvent("onresize",d):(a.$__resizeListeners__$.splice(a.$__resizeListeners__$.indexOf(d),1),a.$__resizeListeners__$.length||(a.removeEventListener("scroll",b),a.$__resizeTriggers__$=!a.removeChild(a.$__resizeTriggers__$)))}}function Sf(){var a=new Ia(document.location.href);return a.$scheme_$+"://"+a.$domain_$}function Tf(){var a={};F(If().split("&"),function(b){b=b.split("=");a[b[0]]=b[1]});return a}function Uf(a,b){this.name=a;this.data=null!=
b?b:{}}function wa(a,b){return{name:a,data:null!=b?b:{}}}function we(a){var b=a;l(a)&&(b=Yb(a));return new Uf(b.name,b.data)}function z(){X.call(this);this.$eventTrackingMap_$={};La(this,Vf,[H,I,U]);La(this,Wf,[H,I,U]);La(this,Xf,[H,I,U]);La(this,Yf,[H,I,Zf,U]);La(this,$f,[H,I]);La(this,ag,[H,I,U]);kb(this,xe);kb(this,Gc);kb(this,Hc);kb(this,Ic);kb(this,Jc);ma(this.$eventTrackingMap_$,bg,{schema:"iglu:com.viewbix/impression/jsonschema/1-0-0",contexts:[H,I,cg,dg,eg],data:fg});lb(this,gg);lb(this,hg);
lb(this,ig);lb(this,jg);lb(this,kg);mb(this,lg,[H,I,U]);mb(this,mg,[H,I,U]);mb(this,ng,[H,I,U]);mb(this,og,[H,I,U]);mb(this,pg,[H,I,U,qg])}function dg(){var a=[],b=window.getPlayerConfigurations().applications;F(b,function(b){b=null!=b?{schema:"iglu:com.viewbix/player_app_context/jsonschema/1-0-0",data:Sb(b,"id internalId component order showInMenu icon label".split(" "),["showInMenu"],[],["order"])}:null;null!=b&&a.push(b)});return a}function Sb(a,b,c,d,g){var f={};F(bc(a),function(e){0<=oa(b,e)&&
ma(f,e,a[e]);if(0<=oa(c,e)&&l(f[e]))f[e]="true"===f[e];else if(0<=oa(d,e)&&l(f[e])){var h=f[e];null!=h?(h=bd(h),isNaN(h)&&(h=null)):h=null;f[e]=h}else 0<=oa(g,e)&&l(f[e])&&(h=cd(f[e]),isNaN(h)&&(h=null),f[e]=h)});return f}function eg(){var a=[],b=window.getPlayerConfigurations();F(["bannerApps","ctaApps","midRollApps","postRollApps","preRollApps"],function(c){var d=b[c];ha(d)||(d=Yb(d),F(d,function(b){b=null!=b?{schema:"iglu:com.viewbix/app_association_context/jsonschema/1-0-0",data:Sb(b,["playerAppInternalId",
"appPlacement","allowSkip","prompt","startTime"],["allowSkip"],["startTime"],[])}:null;if(null!=b){var d;d=new RegExp(ad("Apps"),"");d=c.replace(d,"");ma(b.data,"appPlacement",d);a.push(b)}}))});return a}function U(a){return null!=a&&null!=a.$application$?{schema:"iglu:com.viewbix/app_context/jsonschema/1-0-0",data:{app:a.$application$.component,appId:a.$application$.id}}:null}function Zf(a){if(null!=a&&null!=a.$menu$&&null!=a.$menu$.$apps$&&null!=a.$application$){var b=a.$application$.id,c=a.$menu$.element.children[0].children,
d=c.length-(a.$menu$.$maxItems$<=a.$menu$.$apps$.length?1:0),g=tb(c,function(a){return a.getAttribute("data-app-id")==b});null==g&&null!=a.$menu$.$overflowElement$&&0<a.$menu$.$overflowElement$.children.length&&(c=a.$menu$.$overflowElement$.children[0].children,g=tb(c,function(a){return a.getAttribute("data-app-id")==b}),null!=g&&(d=c.length));var d=d-1,e=c[0].getAttribute("data-app-id"),k=c[d].getAttribute("data-app-id"),c=tb(a.$menu$.$apps$,function(a){return a.id==e}),d=tb(a.$menu$.$apps$,function(a){return a.id==
k});return{schema:"iglu:com.viewbix/list_context/jsonschema/1-0-0",data:{numItems:a.$menu$.$apps$.length,index:a.$application$.order-1,firstVisibleItem:c.order-1,lastVisibleItem:d.order-1}}}return null}function qg(a){return null!=a&&null!=a.$application$?{schema:"iglu:com.viewbix/app_config_context/jsonschema/1-0-0",data:Sb(a.$application$,"address apiKey artist bool1 checkboxLabel commentsLabel coupon document emails followLink form from htmlForm icon image includeCheckbox includeComments instructions label listIds message navLink pageSize password query showInMenu submitText success symbol text1 text2 text3 thumbnailSize thumbnailWidth title tokenName units url username zoom".split(" "),
["bool1","includeCheckbox","includeComments","showInMenu"],["pageSize","thumbnailWidth","zoom"],[])}:null}function cg(){var a=getPlayerConfigurations();"applications"in a&&delete a.applications;return{schema:"iglu:com.viewbix/player_config_context/jsonschema/1-0-0",data:Sb(a,"affiliateRegex deleted locked videoEmailUrl tinyUrl detailsAppId defaultTwitterMessage facebookSharePageUrl playerId memberId videoUrl videoThumbnailUrl title ctaText ctaLink backgroundColor backButton|buttonBackgroundColor0 backButton|buttonBackgroundColor1 titleTextFormatColor ctaButtonBackgroundColor ctaButton|buttonBackgroundColor0 ctaButtonButtonTextFormatColor standardTextFormatFont cornerRadius customLogoUrl customLogoLink scaleLogoToTitleBar backgroundImage bottomLogoUrl bottomLogoLink showFacebookButton showTwitterButton showShareButton playVideoInApps backToVideoText showQualityButton useYouTubeHighQuality showViewbixBranding shareASaleAffiliateId videoLink keepControlsVisible fbConversionPixel".split(" "),
"deleted locked scaleLogoToTitleBar showFacebookButton showTwitterButton showShareButton playVideoInApps showQualityButton useYouTubeHighQuality showViewbixBranding keepControlsVisible".split(" "),"backgroundColor backButton|buttonBackgroundColor0 backButton|buttonBackgroundColor1 titleTextFormatColor ctaButtonBackgroundColor ctaButton|buttonBackgroundColor0 ctaButtonButtonTextFormatColor cornerRadius".split(" "),[])}}function H(){var a;if(ha(z.$getInstance$().$videoUrl$))a=null;else{a=z.$getInstance$().$videoPlayer$.currentTime();
var b;b=z.$getInstance$().$videoPlayer$.played();b=null==b||0==b.length||0==b.start(0)&&0==b.end(0)?rg:z.$getInstance$().$videoPlayer$.paused()?sg:tg;a={schema:"iglu:com.viewbix/video_context/jsonschema/1-0-0",data:{currentTime:a,state:b,src:z.$getInstance$().$videoPlayer$.currentSrc(),volume:z.$getInstance$().$videoPlayer$.volume(),height:z.$getInstance$().$videoPlayer$.height()}}}return a}function I(){return{schema:"iglu:com.viewbix/player_context/jsonschema/2-0-0",data:{playerId:z.$getInstance$().$playerId$,
memberId:z.$getInstance$().$memberId$,sessionId:z.$getInstance$().$sessionId$}}}function ug(a){if(null!=a&&null!=a.$appAction$)return{action:a.$appAction$};throw"No data provided for appInteractionData method";}function vg(a){a=a.$interactionData$;a={id:a.id,control:a.control,location:a.location,targetIsApp:a.$targetIsApp$,icon:a.icon,target:a.target,label:a.label,scope:a.scope};null==a.target&&"target"in a&&delete a.target;return a}function wg(a){if(null!=a&&null!=a.$rollData$)return{type:a.$rollData$.type,
allowSkip:a.$rollData$.$allowSkip$,action:a.$rollData$.action};throw"No data provided for rollData method";}function xg(a){var b=NaN;switch(a){case xe:b=0;break;case Hc:b=25;break;case Ic:b=50;break;case Jc:b=75;break;case Gc:b=100}return{percent:b}}function fg(){var a=document.referrer,b=new la(document.location.search.substring(1));b.$containsKey$(ye)&&(a=b.get(ye),window.spvb("setReferrerUrl",a));return{autoplay:-1!=window.location.href.indexOf("&ap=true"),layout:window.VBX_LAYOUT_NAME,query:window.location.search,
cookies:document.cookie,headers:[a]}}function yg(a,b){var c=[];F(a.contexts,function(a){a=a(b);J(a)?F(a,function(a){null!=a&&c.push(a)}):null!=a&&c.push(a)});return c}function La(a,b,c){ma(a.$eventTrackingMap_$,b,{schema:"iglu:com.viewbix/interaction/jsonschema/1-0-0",contexts:c,data:vg})}function mb(a,b,c){ma(a.$eventTrackingMap_$,b,{schema:"iglu:com.viewbix/app_interaction/jsonschema/1-0-0",contexts:c,data:ug})}function kb(a,b){ma(a.$eventTrackingMap_$,b,{schema:"iglu:com.viewbix/video_progress/jsonschema/1-0-0",
contexts:[H,I],data:Na(xg,b)})}function lb(a,b){ma(a.$eventTrackingMap_$,b,{schema:"iglu:com.viewbix/roll/jsonschema/1-0-0",contexts:[H,I,U],data:wg})}function ze(a){this.$nodeList_$=document.querySelectorAll(a);this.length=this.length;this.nodes=this.$nodes$;this.first=this.first;this.getSize=this.$getSize$;this.getAutoSize=this.$getAutoSize$;this.getPageOffset=this.$getPageOffset$;this.getPageOffsetLeft=this.$getPageOffsetLeft$;this.getPageOffsetTop=this.$getPageOffsetTop$}function Tb(a,b,c,d,g,
e){X.call(this);this.$playerId$=a;this.$layoutName$=b;this.$layoutSchemeAndAuthority$=c||null;null!=c&&"/"==c.substr(-1)&&(this.$layoutSchemeAndAuthority$=c.substr(0,c.length-1));this.debug=d||!1;this.$minified_$=e||!1;this.local=g||!1;this.getElement=this.$getElement$}function zg(a,b){var c="";null!=a.$layoutName$&&(c="&layout="+a.$layoutName$);var c=(null!=a.$layoutSchemeAndAuthority$?a.$layoutSchemeAndAuthority$:Sf())+"/frame/"+a.$playerId$+"?debug="+a.debug.toString()+"&local="+a.local.toString()+
"&minified="+a.$minified_$.toString()+c+"&hostName="+a.$getHostName$()+a.$getAdditionalQueryParams$(),d={};d.pu=c;null!=a.channel&&a.channel.close();a.channel=new jb(d);Nd(a.channel,"LAYOUT_SERVICE",n(function(a){this.$receiveMessageFromLayout$(we(a))},a));a.element=mf("DIV",{"class":"vbx-layout"});Nf(a.channel,a.element,n(function(a){this.$iframeElement_$=a;Mb(this.$iframeElement_$,{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",border:"none"})},a));a.channel.$connect$(function(){A(void 0)&&
(void 0)()});Ag&&window.setTimeout(function(){var a=this.element.querySelector("iframe");null==a||ha(a.src)||(a.src=a.src)},1E3);null!=b&&(a.$hostPlayer$=b,Bg(a),Nd(a.channel,"EXTERNAL_PLAYER_SERVICE",n(function(a){this.$receiveMessageFromExternalPlayer$(we(a))},a)))}function Ub(a,b){null!=a.channel&&null!=b&&(Oa(b),a.channel.send("LAYOUT_SERVICE",b))}function Ae(a,b){null!=a.channel&&null!=b&&(Oa(b),a.channel.send("EXTERNAL_PLAYER_SERVICE",b))}function Bg(a){Pa(Cg,n(function(a){this.$hostPlayer$.addEventListener(a,
n(function(){Ae(this,wa(a,Be(this)))},this))},a))}function Be(a){var b="";null!=a.$hostPlayer$.currentSrc?b=a.$hostPlayer$.currentSrc:null!=a.$hostPlayer$.src&&(b=a.$hostPlayer$.src);var c=0;null!=a.$hostPlayer$.clientHeight&&(c=a.$hostPlayer$.clientHeight);return{duration:a.$hostPlayer$.duration,currentTime:a.$hostPlayer$.currentTime,volume:a.$hostPlayer$.volume,currentSrc:b,height:c}}function ea(a,b,c,d,g,e,k){Tb.call(this,a,b,c,g,e,k);this.$adType_$=this.$originalAdType_$=d;this.$videoSlot_$=this.$slot_$=
null;this.$adHeight_$=this.$adWidth_$=0;this.$adSkippableState_$=!1;this.getAdLinear=this.$getAdLinear$;this.getAdWidth=this.$getAdWidth$;this.getAdHeight=this.$getAdHeight$;this.getAdExpanded=this.$getAdExpanded$;this.getAdSkippableState=this.$getAdSkippableState$;this.getAdRemainingTime=this.$getAdRemainingTime$;this.getAdDuration=this.$getAdDuration$;this.handshakeVersion=this.$handshakeVersion$;this.initAd=this.$initAd$;this.startAd=this.$startAd$;this.stopAd=this.$stopAd$;this.setAdVolume=this.$setAdVolume$;
this.getAdVolume=this.$getAdVolume$;this.resizeAd=this.$resizeAd$;this.pauseAd=this.$pauseAd$;this.resumeAd=this.$resumeAd$;this.expandAd=this.$expandAd$;this.collapseAd=this.$collapseAd$;this.skipAd=this.$skipAd$;this.subscribe=this.$subscribe$;this.unsubscribe=this.$unsubscribe$;this.getAdCompanions=this.$getAdCompanions$;this.getAdIcons=this.$getAdIcons$}var e,q=this,Pc="closure_uid_"+(1E9*Math.random()>>>0),Ie=0,Y=Date.now||function(){return+new Date};v(R,Error);R.prototype.name="CustomError";
ya.prototype.$exception_$=null;ya.prototype.$exceptionText_$=null;var Dg=0;ya.prototype.reset=function(a,b,c,d,g){"number"==typeof g||Dg++;d||Y();this.$level_$=a;this.$msg_$=b;delete this.$exception_$;delete this.$exceptionText_$};ya.prototype.$setLevel$=function(a){this.$level_$=a};ya.prototype.getMessage=function(){return this.$msg_$};var Qc=0,Rc={};K.prototype.$disposed_$=!1;K.prototype.$dispose$=function(){if(!this.$disposed_$&&(this.$disposed_$=!0,this.$disposeInternal$(),0!=Qc)){var a=fa(this);
delete Rc[a]}};K.prototype.$disposeInternal$=function(){if(this.$onDisposeCallbacks_$)for(;this.$onDisposeCallbacks_$.length;)this.$onDisposeCallbacks_$.shift()()};var Cd;ga.prototype.$disposeInternal$=function(){};ga.prototype.$dispose$=function(){};ga.prototype.preventDefault=function(){this.defaultPrevented=!0;this.$returnValue_$=!1};var Tc="closure_listenable_"+(1E6*Math.random()|0),Me=0;Zb.prototype.serialize=function(a){var b=[];$b(this,a,b);return b.join("")};var ac={'"':'\\"',"\\":"\\\\",
"/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\x0B":"\\u000b"},Ne=/\uffff/.test("\uffff")?/[\\\"\x00-\x1f\x7f-\uffff]/g:/[\\\"\x00-\x1f\x7f-\xff]/g;Zb.prototype.serializeArray=function(a,b){var c=a.length;b.push("[");for(var d="",g=0;g<c;g++)b.push(d),d=a[g],$b(this,this.$replacer_$?this.$replacer_$.call(a,String(g),d):d,b),d=",";b.push("]")};e=Aa.prototype;e.clone=function(){return new Aa(this.width,this.height)};e.toString=function(){return"("+this.width+" x "+this.height+")"};
e.ceil=function(){this.width=Math.ceil(this.width);this.height=Math.ceil(this.height);return this};e.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};e.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var Xc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),Df=qb("area base br col command embed hr img input keygen link meta param source track wbr".split(" "));
cc[" "]=Oc;var Qe=/&/g,Re=/</g,Se=/>/g,Te=/"/g,Ue=/'/g,Ve=/\x00/g,Pe=/[\x00&<>"']/;v(sb,R);sb.prototype.name="AssertionError";var P=Array.prototype,oa=P.indexOf?function(a,b,c){u(null!=a.length);return P.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(l(a))return l(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},F=P.forEach?function(a,b,c){u(null!=a.length);P.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=l(a)?
a.split(""):a,e=0;e<d;e++)e in g&&b.call(c,g[e],e,a)},ld=P.filter?function(a,b,c){u(null!=a.length);return P.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=[],e=0,k=l(a)?a.split(""):a,h=0;h<d;h++)if(h in k){var p=k[h];b.call(c,p,h,a)&&(g[e++]=p)}return g},Kf=P.some?function(a,b,c){u(null!=a.length);return P.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=l(a)?a.split(""):a,e=0;e<d;e++)if(e in g&&b.call(c,g[e],e,a))return!0;return!1},fc;pa.prototype.add=function(a,b,c,d,g){var e=a.toString();
(a=this.$listeners$[e])||(a=this.$listeners$[e]=[],this.$typeCount_$++);var k=hc(a,b,d,g);-1<k?(b=a[k],c||(b.$callOnce$=!1)):(b=new Le(b,this.src,e,!!d,g),b.$callOnce$=c,a.push(b));return b};pa.prototype.remove=function(a,b,c,d){a=a.toString();if(!(a in this.$listeners$))return!1;var g=this.$listeners$[a];b=hc(g,b,c,d);return-1<b?(pb(g[b]),u(null!=g.length),P.splice.call(g,b,1),0==g.length&&(delete this.$listeners$[a],this.$typeCount_$--),!0):!1};pa.prototype.removeAll=function(a){a=a&&a.toString();
var b=0,c;for(c in this.$listeners$)if(!a||c==a){for(var d=this.$listeners$[c],g=0;g<d.length;g++)++b,pb(d[g]);delete this.$listeners$[c];this.$typeCount_$--}return b};pa.prototype.$getListener$=function(a,b,c,d){a=this.$listeners$[a.toString()];var g=-1;a&&(g=hc(a,b,c,d));return-1<g?a[g]:null};var Qa;a:{var Ce=q.navigator;if(Ce){var De=Ce.userAgent;if(De){Qa=De;break a}}Qa=""}e=Ra.prototype;e.clone=function(){return new Ra(this.x,this.y)};e.toString=function(){return"("+this.x+", "+this.y+")"};e.ceil=
function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};e.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};e.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};ia.prototype.$implementsGoogStringTypedString$=!0;ia.prototype.$getTypedStringValue$=function(){return this.$stringConstValueWithSecurityContract__googStringSecurityPrivate_$};ia.prototype.toString=function(){return"Const{"+this.$stringConstValueWithSecurityContract__googStringSecurityPrivate_$+
"}"};var md={};qa.prototype.$implementsGoogStringTypedString$=!0;var od={};qa.prototype.$getTypedStringValue$=function(){return this.$privateDoNotAccessOrElseSafeStyleWrappedValue_$};qa.prototype.toString=function(){return"SafeStyle{"+this.$privateDoNotAccessOrElseSafeStyleWrappedValue_$+"}"};var Bf=pd(""),Af=/^[-.%_!# a-zA-Z0-9]+$/;e=ub.prototype;e.$implementsGoogStringTypedString$=!0;e.$getTypedStringValue$=function(){return this.$privateDoNotAccessOrElseSafeHtmlWrappedValue_$};e.$implementsGoogI18nBidiDirectionalString$=
!0;e.$getDirection$=function(){return 1};e.toString=function(){return"SafeUrl{"+this.$privateDoNotAccessOrElseSafeHtmlWrappedValue_$+"}"};var qd={};e=Sa.prototype;e.$implementsGoogI18nBidiDirectionalString$=!0;e.$getDirection$=function(){return this.$dir_$};e.$implementsGoogStringTypedString$=!0;e.$getTypedStringValue$=function(){return this.$privateDoNotAccessOrElseSafeHtmlWrappedValue_$};e.toString=function(){return"SafeHtml{"+this.$privateDoNotAccessOrElseSafeHtmlWrappedValue_$+"}"};var Xd=/^[a-zA-Z0-9-]+$/,
Cf=qb("action","cite","data","formaction","href","manifest","poster","src"),zf=qb("link","script","style"),rd={};vb("",0);e=wb.prototype;e.$getValues$=function(){jc(this);for(var a=[],b=0;b<this.$keys_$.length;b++)a.push(this.$map_$[this.$keys_$[b]]);return a};e.$getKeys$=function(){jc(this);return this.$keys_$.concat()};e.$containsKey$=function(a){return Da(this.$map_$,a)};e.remove=function(a){return Da(this.$map_$,a)?(delete this.$map_$[a],this.$count_$--,this.$keys_$.length>2*this.$count_$&&jc(this),
!0):!1};e.get=function(a,b){return Da(this.$map_$,a)?this.$map_$[a]:b};e.set=function(a,b){Da(this.$map_$,a)||(this.$count_$++,this.$keys_$.push(a));this.$map_$[a]=b};e.forEach=function(a,b){for(var c=this.$getKeys$(),d=0;d<c.length;d++){var g=c[d],e=this.get(g);a.call(b,e,g,this)}};e.clone=function(){return new wb(this)};var kc=!1,yb=[],ra=0,Ta=2,V=3;ja.prototype.then=function(a,b,c){td(this,Error("then"));return ef(this,A(a)?a:null,A(b)?b:null,c)};Yc(ja);ja.prototype.cancel=function(a){this.$state_$==
ra&&xb(function(){var b=new Ua(a);ud(this,b)},this)};ja.prototype.$unblockAndFulfill_$=function(a){u(1==this.$state_$);this.$state_$=ra;Ea(this,Ta,a)};ja.prototype.$unblockAndReject_$=function(a){u(1==this.$state_$);this.$state_$=ra;Ea(this,V,a)};ja.prototype.$executeCallbacks_$=function(){for(;this.$callbackEntries_$&&this.$callbackEntries_$.length;){var a=this.$callbackEntries_$;this.$callbackEntries_$=[];for(var b=0;b<a.length;b++){this.$currentStep_$++;var c=a[b],d=this.$result_$;this.$state_$==
Ta?c.$onFulfilled$(d):(vd(this),c.$onRejected$(d))}}this.$executing_$=!1};var hf=sd;v(Ua,R);Ua.prototype.name="cancel";var cb=ba("Opera")||ba("OPR"),t=ba("Trident")||ba("MSIE"),W=ba("Gecko")&&!ba("WebKit")&&!(ba("Trident")||ba("MSIE")),y=ba("WebKit"),Ee=Qa,Ag=!!Ee&&-1!=Ee.indexOf("iPhone"),yd=function(){var a="",b;if(cb&&q.opera)return a=q.opera.version,A(a)?a():a;W?b=/rv\:([^\);]+)(\)|;)/:t?b=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:y&&(b=/WebKit\/(\S+)/);b&&(a=(a=b.exec(Qa))?a[1]:"");return t&&(b=wd(),
b>parseFloat(a))?String(b):a}(),xd={},Fe=q.document,eb=Fe&&t?wd()||("CSS1Compat"==Fe.compatMode?parseInt(yd,10):5):void 0,Va={};sa.prototype.toString=function(){return this.name};var tf=new sa("SEVERE",1E3),uf=new sa("WARNING",900),Eg=new sa("INFO",800),kf=new sa("CONFIG",700),vf=new sa("FINE",500),sf=new sa("FINEST",300);e=Wa.prototype;e.getName=function(){return this.$name_$};e.getParent=function(){return this.$parent_$};e.$getChildren$=function(){this.$children_$||(this.$children_$={});return this.$children_$};
e.$setLevel$=function(a){this.$level_$=a};e.log=function(a,b,c){if(a.value>=Bd(this).value)for(A(b)&&(b=b()),a=this.$getLogRecord$(a,b,c,Wa.prototype.log),b="log:"+a.getMessage(),q.console&&(q.console.timeStamp?q.console.timeStamp(b):q.console.markTimeline&&q.console.markTimeline(b)),q.msWriteProfilerMark&&q.msWriteProfilerMark(b),b=this;b;){c=b;var d=a;if(c.$handlers_$)for(var g=0,e=void 0;e=c.$handlers_$[g];g++)e(d);b=b.getParent()}};e.$getLogRecord$=function(a,b,c,d){a=new ya(a,String(b),this.$name_$);
if(c){a.$exception_$=c;var g;d=d||Wa.prototype.$getLogRecord$;try{var e,k=nb("window.location.href");if(l(c))e={message:c,name:"Unknown error",lineNumber:"Not available",fileName:k,stack:"Not available"};else{var h,p;b=!1;try{h=c.lineNumber||c.$line$||"Not available"}catch(m){h="Not available",b=!0}try{p=c.fileName||c.filename||c.sourceURL||q.$googDebugFname||k}catch(m){p="Not available",b=!0}e=!b&&c.lineNumber&&c.fileName&&c.stack&&c.message&&c.name?c:{message:c.message||"Not available",name:c.name||
"UnknownError",lineNumber:h,fileName:p,stack:c.stack||"Not available"}}g="Message: "+na(e.message)+'\nUrl: <a href="view-source:'+e.fileName+'" target="_new">'+e.fileName+"</a>\nLine: "+e.lineNumber+"\n\nBrowser stack:\n"+na(e.stack+"-> ")+"[end]\n\nJS stack traversal:\n"+na(jf(d)+"-> ")}catch(m){g="Exception trying to expose exception! You win, we lose. "+m}a.$exceptionText_$=g}return a};e.info=function(a,b){this.log(Eg,a,b)};var lc={},Ab=null,nf=!t||t&&9<=eb,Fg=!W&&!t||t&&t&&9<=eb||W&&S("1.9.1");
t&&S("9");var Dd={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};e=mc.prototype;e.$getElement$=function(a){return l(a)?this.$document_$.getElementById(a):a};e.createElement=function(a){return this.$document_$.createElement(a)};e.createTextNode=function(a){return this.$document_$.createTextNode(String(a))};e.$getWindow$=function(){var a=
this.$document_$;return a.parentWindow||a.defaultView};e.appendChild=function(a,b){a.appendChild(b)};e.$getChildren$=function(a){return Fg&&void 0!=a.children?a.children:ld(a.childNodes,function(a){return 1==a.nodeType})};e.contains=nc;var Hd=!t||t&&9<=eb,Gg=t&&!S("9");!y||S("528");W&&S("1.9b")||t&&S("8")||cb&&S("9.5")||y&&S("528");W&&!S("8")||t&&S("9");v(Fa,ga);Fa.prototype.preventDefault=function(){Fa.$superClass_$.preventDefault.call(this);var a=this.$event_$;if(a.preventDefault)a.preventDefault();
else if(a.returnValue=!1,Gg)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};Fa.prototype.$disposeInternal$=function(){};var oc="closure_lm_"+(1E6*Math.random()|0),qc={},Gd=0,Ld="__closure_events_fn_"+(1E9*Math.random()>>>0);v(Ga,K);var Ge=[];e=Ga.prototype;e.$listen$=function(a,b,c,d){J(b)||(b&&(Ge[0]=b.toString()),b=Ge);for(var e=0;e<b.length;e++){var f=ca(a,b[e],c||this.handleEvent,d||!1,this.$handler_$||this);if(!f)break;this.$keys_$[f.key]=f}return this};e.$listenOnce$=
function(a,b,c,d){return rc(this,a,b,c,d)};e.$unlisten$=function(a,b,c,d,e){if(J(b))for(var f=0;f<b.length;f++)this.$unlisten$(a,b[f],c,d,e);else if(a=Id(a,b,c||this.handleEvent,d,e||this.$handler_$||this))Db(a),delete this.$keys_$[a.key];return this};e.removeAll=function(){Pa(this.$keys_$,Db);this.$keys_$={}};e.$disposeInternal$=function(){Ga.$superClass_$.$disposeInternal$.call(this);this.removeAll()};e.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};v(X,K);X.prototype[Tc]=
!0;e=X.prototype;e.addEventListener=function(a,b,c,d){ca(this,a,b,c,d)};e.removeEventListener=function(a,b,c,d){$a(this,a,b,c,d)};e.dispatchEvent=function(a){Md(this);var b,c=this.$parentEventTarget_$;if(c){b=[];for(var d=1;c;c=c.$parentEventTarget_$)b.push(c),u(1E3>++d,"infinite loop")}c=this.$actualEventTarget_$;d=a.type||a;if(l(a))a=new ga(a,c);else if(a instanceof ga)a.target=a.target||c;else{var e=a;a=new ga(d,c);Wc(a,e)}var e=!0,f;if(b)for(var k=b.length-1;!a.$propagationStopped_$&&0<=k;k--)f=
a.currentTarget=b[k],e=Eb(f,d,!0,a)&&e;a.$propagationStopped_$||(f=a.currentTarget=c,e=Eb(f,d,!0,a)&&e,a.$propagationStopped_$||(e=Eb(f,d,!1,a)&&e));if(b)for(k=0;!a.$propagationStopped_$&&k<b.length;k++)f=a.currentTarget=b[k],e=Eb(f,d,!1,a)&&e;return e};e.$disposeInternal$=function(){X.$superClass_$.$disposeInternal$.call(this);this.removeAllListeners();this.$parentEventTarget_$=null};e.$listen$=function(a,b,c,d){Md(this);return this.$eventTargetListeners_$.add(String(a),b,!1,c,d)};e.$listenOnce$=
function(a,b,c,d){return this.$eventTargetListeners_$.add(String(a),b,!0,c,d)};e.$unlisten$=function(a,b,c,d){return this.$eventTargetListeners_$.remove(String(a),b,c,d)};e.removeAllListeners=function(a){return this.$eventTargetListeners_$?this.$eventTargetListeners_$.removeAll(a):0};e.$getListener$=function(a,b,c,d){return this.$eventTargetListeners_$.$getListener$(String(a),b,c,d)};v(ka,K);ka.prototype.logger=zb("goog.messaging.AbstractChannel");ka.prototype.$connect$=function(a){a&&a()};ka.prototype.$isConnected$=
function(){return!0};ka.prototype.$disposeInternal$=function(){ka.$superClass_$.$disposeInternal$.call(this);delete this.logger;delete this.$services_$;delete this.$defaultService_$};var Hg={1:"NativeMessagingTransport",2:"FrameElementMethodTransport",3:"IframeRelayTransport",4:"IframePollingTransport",5:"FlashTransport",6:"NixTransport",7:"DirectTransport"},Mf=["pu","lru","pru","lpu","ppu"],M={},wf="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",G=zb("goog.net.xpc");v(D,K);D.prototype.$transportType$=
0;D.prototype.$getWindow$=function(){return this.$domHelper_$.$getWindow$()};D.prototype.getName=function(){return Hg[this.$transportType$]||""};v(Fb,D);e=Fb.prototype;e.$transportType$=2;e.$recursive_$=!1;e.$timer_$=0;e.$connect$=function(){0==N(this.$channel_$)?(this.$iframeElm_$=this.$channel_$.$iframeElement_$,this.$iframeElm_$.XPC_toOuter=n(this.$incoming_$,this)):this.$attemptSetup_$()};e.$attemptSetup_$=function(){var a=!0;try{this.$iframeElm_$||(this.$iframeElm_$=this.$getWindow$().frameElement),
this.$iframeElm_$&&this.$iframeElm_$.XPC_toOuter&&(this.$outgoing_$=this.$iframeElm_$.XPC_toOuter,this.$iframeElm_$.XPC_toOuter.XPC_toInner=n(this.$incoming_$,this),a=!1,this.send("tp","SETUP_ACK"),this.$channel_$.$notifyConnected$())}catch(b){T("exception caught while attempting setup: "+b)}a&&(this.$attemptSetupCb_$||(this.$attemptSetupCb_$=n(this.$attemptSetup_$,this)),this.$getWindow$().setTimeout(this.$attemptSetupCb_$,100))};e.$transportServiceHandler$=function(a){if(0!=N(this.$channel_$)||
this.$channel_$.$isConnected$()||"SETUP_ACK"!=a)throw Error("Got unexpected transport message.");this.$outgoing_$=this.$iframeElm_$.XPC_toOuter.XPC_toInner;this.$channel_$.$notifyConnected$()};e.$incoming_$=function(a,b){this.$recursive_$||0!=this.$queue_$.length?(this.$queue_$.push({$serviceName$:a,$payload$:b}),1==this.$queue_$.length&&(this.$timer_$=this.$getWindow$().setTimeout(this.$deliverQueuedCb_$,1))):this.$channel_$.$xpcDeliver$(a,b)};e.$deliverQueued_$=function(){for(;this.$queue_$.length;){var a=
this.$queue_$.shift();this.$channel_$.$xpcDeliver$(a.$serviceName$,a.$payload$)}};e.send=function(a,b){this.$recursive_$=!0;this.$outgoing_$(a,b);this.$recursive_$=!1};e.$disposeInternal$=function(){Fb.$superClass_$.$disposeInternal$.call(this);this.$iframeElm_$=this.$outgoing_$=null};var wc,Ib;v(bb,D);e=bb.prototype;e.$pollsBeforeReconnect_$=5;e.$transportType$=4;e.$sequence_$=0;e.$waitForAck_$=!1;e.$initialized_$=!1;e.$reconnectFrame_$=null;e.$connect$=function(){if(!this.$disposed_$&&tc(this.$channel_$)){C("transport connect called");
if(!this.$initialized_$){C("initializing...");var a=Gb(this);this.$msgIframeElm_$=vc(this,a);this.$msgWinObj_$=this.$getWindow$().frames[a];a=Hb(this);this.$ackIframeElm_$=vc(this,a);this.$ackWinObj_$=this.$getWindow$().frames[a];this.$initialized_$=!0}if(Pd(this,Gb(this))&&Pd(this,Hb(this)))C("foreign frames present"),this.$msgReceiver_$=new Vd(this,uc(this,Gb(this)),n(this.$processIncomingMsg$,this)),this.$ackReceiver_$=new Vd(this,uc(this,Hb(this)),n(this.$processIncomingAck$,this)),this.$checkLocalFramesPresent_$();
else{B("foreign frames not (yet) present");if(1==N(this.$channel_$))this.$reconnectFrame_$||0<this.$pollsBeforeReconnect_$--||(B("Inner peer reconnect triggered."),Qb(this.$channel_$,ab(10)),B("switching channels: "+this.$channel_$.name),Od(this),this.$initialized_$=!1,this.$reconnectFrame_$=vc(this,"googlexpc_reconnect_"+this.$channel_$.name));else if(0==N(this.$channel_$)){B("outerPeerReconnect called");for(var a=sc(this),b=a.length,c=0;c<b;c++){var d;try{a[c]&&a[c].name&&(d=a[c].name)}catch(e){}if(d){var g=
d.split("_");if(3==g.length&&"googlexpc"==g[0]&&"reconnect"==g[1]){this.$channel_$.name=g[2];Od(this);this.$initialized_$=!1;break}}}}this.$getWindow$().setTimeout(n(this.$connect$,this),100)}}};e.$checkLocalFramesPresent_$=function(){var a=sc(this);a[Hb(this)]&&a[Gb(this)]?(this.$msgSender_$=new xc(this.$sendUri_$,this.$msgWinObj_$),this.$ackSender_$=new xc(this.$sendUri_$,this.$ackWinObj_$),C("local frames ready"),this.$getWindow$().setTimeout(n(function(){this.$msgSender_$.send("SETUP");this.$waitForAck_$=
!0;C("SETUP sent")},this),100)):(this.$checkLocalFramesPresentCb_$||(this.$checkLocalFramesPresentCb_$=n(this.$checkLocalFramesPresent_$,this)),this.$getWindow$().setTimeout(this.$checkLocalFramesPresentCb_$,100),C("local frames not (yet) present"))};e.$processIncomingMsg$=function(a){B("msg received: "+a);if("SETUP"==a)this.$ackSender_$&&(this.$ackSender_$.send("SETUP_ACK"),B("SETUP_ACK sent"),this.$sentConnectionSetupAck_$=!0,Qd(this));else if(this.$channel_$.$isConnected$()||this.$sentConnectionSetupAck_$){var b=
a.indexOf("|"),c=a.substring(0,b);a=a.substring(b+1);b=c.indexOf(",");if(-1==b){var d;this.$ackSender_$.send("ACK:"+c);Sd(this,a)}else d=c.substring(0,b),this.$ackSender_$.send("ACK:"+d),c=c.substring(b+1).split("/"),b=parseInt(c[0],10),c=parseInt(c[1],10),1==b&&(this.$parts_$=[]),this.$parts_$.push(a),b==c&&(Sd(this,this.$parts_$.join("")),delete this.$parts_$)}else L(G,"received msg, but channel is not connected")};e.$processIncomingAck$=function(a){B("ack received: "+a);"SETUP_ACK"==a?(this.$waitForAck_$=
!1,this.$rcvdConnectionSetupAck_$=!0,Qd(this)):this.$channel_$.$isConnected$()?this.$waitForAck_$?parseInt(a.split(":")[1],10)==this.$sequence_$?(this.$waitForAck_$=!1,Rd(this)):L(G,"got ack with wrong sequence"):L(G,"got unexpected ack"):L(G,"received ack, but channel not connected")};e.$MAX_FRAME_LENGTH_$=3800;e.send=function(a,b){var c=a+":"+b;if(!t||b.length<=this.$MAX_FRAME_LENGTH_$)this.$sendQueue_$.push("|"+c);else for(var d=b.length,e=Math.ceil(d/this.$MAX_FRAME_LENGTH_$),f=0,k=1;f<d;)this.$sendQueue_$.push(","+
k+"/"+e+"|"+c.substr(f,this.$MAX_FRAME_LENGTH_$)),k++,f+=this.$MAX_FRAME_LENGTH_$;Rd(this)};e.$disposeInternal$=function(){bb.$superClass_$.$disposeInternal$.call(this);var a=yc;ec(a,this.$msgReceiver_$);ec(a,this.$ackReceiver_$);this.$msgReceiver_$=this.$ackReceiver_$=null;Bb(this.$msgIframeElm_$);Bb(this.$ackIframeElm_$);this.$msgWinObj_$=this.$ackWinObj_$=this.$msgIframeElm_$=this.$ackIframeElm_$=null};var yc=[],Ud=n(function(){var a=yc,b,c=!1;try{for(var d=0;b=a[d];d++){var e;if(!(e=c)){var f=
b,k=f.$rcvFrame_$.location.href;if(k!=f.$currentLoc_$){f.$currentLoc_$=k;var h=k.split("#")[1];h&&(h=h.substr(1),f.$cb_$(decodeURIComponent(h)));e=!0}else e=!1}c=e}}catch(p){if(x("receive_() failed: "+p),b=b.$transport_$.$channel_$,x("Transport Error"),b.close(),!a.length)return}a=Y();c&&(wc=a);Ib=window.setTimeout(Ud,1E3>a-wc?10:100)},bb);xc.prototype.send=function(a){this.$cycle_$=++this.$cycle_$%2;a=this.$sendUri_$+"#"+this.$cycle_$+encodeURIComponent(a);try{y?this.$sendFrame_$.location.href=a:
this.$sendFrame_$.location.replace(a)}catch(b){T("sending failed",b)}Td()};v(Jb,D);if(y)var Kb=[],Kc=0,xf=function(){Kc||(Kc=window.setTimeout(function(){Lc()},1E3))},Lc=function(a){var b=Y();for(a=a||3E3;Kb.length&&b-Kb[0].timestamp>=a;){var c=Kb.shift().$iframeElement$;Bb(c);B("iframe removed")}Kc=window.setTimeout(Ig,1E3)},Ig=function(){Lc()};var zc={};e=Jb.prototype;e.$transportType$=3;e.$connect$=function(){this.$getWindow$().xpcRelay||(this.$getWindow$().xpcRelay=yf);this.send("tp","SETUP")};
e.$transportServiceHandler$=function(a){"SETUP"==a?(this.send("tp","SETUP_ACK"),this.$channel_$.$notifyConnected$()):"SETUP_ACK"==a&&this.$channel_$.$notifyConnected$()};e.send=function(a,b){var c=encodeURIComponent(b),d=c.length;if(t&&1800<d)for(var e=Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Y()).toString(36),f=0,k=0;f<d;k++){var h=c.substr(f,1800),f=f+1800;Wd(this,a,h,e+(f>=d?"++":"+")+k)}else Wd(this,a,c)};e.$disposeInternal$=function(){Jb.$superClass_$.$disposeInternal$.call(this);
y&&Lc(0)};v(Lb,D);var Zd="GCXPC____NIXJS_handle_message",$d="GCXPC____NIXJS_create_channel";e=Lb.prototype;e.$transportType$=6;e.$localSetupCompleted_$=!1;e.$nixChannel_$=null;e.$connect$=function(){0==N(this.$channel_$)?this.$attemptOuterSetup_$():this.$attemptInnerSetup_$()};e.$attemptOuterSetup_$=function(){if(!this.$localSetupCompleted_$){var a=this.$channel_$.$iframeElement_$;try{a.contentWindow.opener=(0,this.$getWindow$().GCXPC____NIXVBS_get_wrapper)(this,this.$authToken_$),this.$localSetupCompleted_$=
!0}catch(b){T("exception caught while attempting setup: "+b)}this.$localSetupCompleted_$||this.$getWindow$().setTimeout(n(this.$attemptOuterSetup_$,this),100)}};e.$attemptInnerSetup_$=function(){if(!this.$localSetupCompleted_$){try{var a=this.$getWindow$().opener;if(a&&"GCXPC____NIXVBS_container"in a){this.$nixChannel_$=a;if(this.$nixChannel_$.GetAuthToken()!=this.$remoteAuthToken_$){T("Invalid auth token from other party");return}this.$nixChannel_$.CreateChannel((0,this.$getWindow$().GCXPC____NIXVBS_get_wrapper)(this,
this.$authToken_$));this.$localSetupCompleted_$=!0;this.$channel_$.$notifyConnected$()}}catch(b){T("exception caught while attempting setup: "+b);return}this.$localSetupCompleted_$||this.$getWindow$().setTimeout(n(this.$attemptInnerSetup_$,this),100)}};e.$createChannel_$=function(a){"unknown"==typeof a&&"GCXPC____NIXVBS_container"in a||T("Invalid NIX channel given to createChannel_");this.$nixChannel_$=a;this.$nixChannel_$.GetAuthToken()!=this.$remoteAuthToken_$?T("Invalid auth token from other party"):
this.$channel_$.$notifyConnected$()};e.$handleMessage_$=function(a,b){this.$getWindow$().setTimeout(n(function(){this.$channel_$.$xpcDeliver$(a,b)},this),1)};e.send=function(a,b){"unknown"!==typeof this.$nixChannel_$&&T("NIX channel not connected");this.$nixChannel_$.SendMessage(a,b)};e.$disposeInternal$=function(){Lb.$superClass_$.$disposeInternal$.call(this);this.$nixChannel_$=null};v(fb,X);e=fb.prototype;e.enabled=!1;e.$timer_$=null;e.$tick_$=function(){if(this.enabled){var a=Y()-this.$last_$;
0<a&&a<.8*this.$interval_$?this.$timer_$=this.$timerObject_$.setTimeout(this.$boundTick_$,this.$interval_$-a):(this.$timer_$&&(this.$timerObject_$.clearTimeout(this.$timer_$),this.$timer_$=null),this.dispatchEvent(Fc),this.enabled&&(this.$timer_$=this.$timerObject_$.setTimeout(this.$boundTick_$,this.$interval_$),this.$last_$=Y()))}};e.start=function(){this.enabled=!0;this.$timer_$||(this.$timer_$=this.$timerObject_$.setTimeout(this.$boundTick_$,this.$interval_$),this.$last_$=Y())};e.stop=function(){this.enabled=
!1;this.$timer_$&&(this.$timerObject_$.clearTimeout(this.$timer_$),this.$timer_$=null)};e.$disposeInternal$=function(){fb.$superClass_$.$disposeInternal$.call(this);this.stop();delete this.$timerObject_$};var Fc="tick";v(Nb,K);e=Nb.prototype;e.$id_$=0;e.$disposeInternal$=function(){Nb.$superClass_$.$disposeInternal$.call(this);this.stop();delete this.$listener_$;delete this.$handler_$};e.start=function(a){this.stop();this.$id_$=Bc(this.$callback_$,O(a)?a:this.$interval_$)};e.stop=function(){this.$isActive$()&&
q.clearTimeout(this.$id_$);this.$id_$=0};e.$isActive$=function(){return 0!=this.$id_$};e.$doAction_$=function(){this.$id_$=0;this.$listener_$&&this.$listener_$.call(this.$handler_$)};var Gf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#(.*))?$/,Dc=y;zb("goog.net.XhrIo");e=Ia.prototype;e.$scheme_$="";e.$userInfo_$="";e.$domain_$="";e.$port_$=null;e.$path_$="";e.$fragment_$="";e.$isReadOnly_$=!1;e.$ignoreCase_$=!1;e.toString=function(){var a=
[],b=this.$scheme_$;b&&a.push(gb(b,He),":");if(b=this.$domain_$){a.push("//");var c=this.$userInfo_$;c&&a.push(gb(c,He),"@");a.push(encodeURIComponent(String(b)));b=this.$port_$;null!=b&&a.push(":",String(b))}if(b=this.$path_$)this.$domain_$&&"/"!=b.charAt(0)&&a.push("/"),a.push(gb(b,"/"==b.charAt(0)?Jg:Kg));(b=this.$queryData_$.toString())&&a.push("?",b);(b=this.$fragment_$)&&a.push("#",gb(b,Lg));return a.join("")};e.clone=function(){return new Ia(this)};e.$setIgnoreCase$=function(a){this.$ignoreCase_$=
a;this.$queryData_$&&this.$queryData_$.$setIgnoreCase$(a);return this};var He=/[#\/\?@]/g,Kg=/[\#\?:]/g,Jg=/[\#\?]/g,Hf=/[\#\?@]/g,Lg=/#/g;e=la.prototype;e.$keyMap_$=null;e.$count_$=null;e.add=function(a,b){ta(this);this.$encodedQuery_$=null;a=ua(this,a);var c=this.$keyMap_$.get(a);c||this.$keyMap_$.set(a,c=[]);c.push(b);this.$count_$++;return this};e.remove=function(a){ta(this);a=ua(this,a);return this.$keyMap_$.$containsKey$(a)?(this.$encodedQuery_$=null,this.$count_$-=this.$keyMap_$.get(a).length,
this.$keyMap_$.remove(a)):!1};e.$containsKey$=function(a){ta(this);a=ua(this,a);return this.$keyMap_$.$containsKey$(a)};e.$getKeys$=function(){ta(this);for(var a=this.$keyMap_$.$getValues$(),b=this.$keyMap_$.$getKeys$(),c=[],d=0;d<b.length;d++)for(var e=a[d],f=0;f<e.length;f++)c.push(b[d]);return c};e.$getValues$=function(a){ta(this);var b=[];if(l(a))this.$containsKey$(a)&&(b=ed(b,this.$keyMap_$.get(ua(this,a))));else{a=this.$keyMap_$.$getValues$();for(var c=0;c<a.length;c++)b=ed(b,a[c])}return b};
e.set=function(a,b){ta(this);this.$encodedQuery_$=null;a=ua(this,a);this.$containsKey$(a)&&(this.$count_$-=this.$keyMap_$.get(a).length);this.$keyMap_$.set(a,[b]);this.$count_$++;return this};e.get=function(a,b){var c=a?this.$getValues$(a):[];return 0<c.length?String(c[0]):b};e.toString=function(){if(this.$encodedQuery_$)return this.$encodedQuery_$;if(!this.$keyMap_$)return"";for(var a=[],b=this.$keyMap_$.$getKeys$(),c=0;c<b.length;c++)for(var d=b[c],e=encodeURIComponent(String(d)),d=this.$getValues$(d),
f=0;f<d.length;f++){var k=e;""!==d[f]&&(k+="="+encodeURIComponent(String(d[f])));a.push(k)}return this.$encodedQuery_$=a.join("&")};e.clone=function(){var a=new la;a.$encodedQuery_$=this.$encodedQuery_$;this.$keyMap_$&&(a.$keyMap_$=this.$keyMap_$.clone(),a.$count_$=this.$count_$);return a};e.$setIgnoreCase$=function(a){a&&!this.$ignoreCase_$&&(ta(this),this.$encodedQuery_$=null,this.$keyMap_$.forEach(function(a,c){var d=c.toLowerCase();c!=d&&(this.remove(c),ie(this,d,a))},this));this.$ignoreCase_$=
a};e=E.prototype;e.cancel=function(a){if(this.$fired_$)this.$result_$ instanceof E&&this.$result_$.cancel();else{if(this.$parent_$){var b=this.$parent_$;delete this.$parent_$;a?b.cancel(a):(b.$branches_$--,0>=b.$branches_$&&b.cancel())}this.$onCancelFunction_$?this.$onCancelFunction_$.call(this.$defaultScope_$,this):this.$silentlyCanceled_$=!0;this.$fired_$||this.$errback$(new ib(this))}};e.$continue_$=function(a,b){this.$blocked_$=!1;Ec(this,a,b)};e.$callback$=function(a){ke(this);me(a);Ec(this,
!0,a)};e.$errback$=function(a){ke(this);me(a);le(this,a);Ec(this,!1,a)};e.then=function(a,b,c){var d,e,f=new ja(function(a,b){d=a;e=b});va(this,d,function(a){a instanceof ib?f.cancel():e(a)});return f.then(a,b,c)};Yc(E);E.prototype.$branch$=function(a){var b=new E;va(this,b.$callback$,b.$errback$,b);a&&(b.$parent_$=this,this.$branches_$++);return b};E.prototype.isError=function(a){return a instanceof Error};v(Ob,R);Ob.prototype.message="Deferred has already fired";Ob.prototype.name="AlreadyCalledError";
v(ib,R);ib.prototype.message="Deferred was canceled";ib.prototype.name="CanceledError";oe.prototype.$throwError$=function(){u(hb[this.$id_$],"Cannot throw an error that is not scheduled.");delete hb[this.$id_$];throw this.$error_$;};var hb={};v(Pb,D);var Mc={};e=Pb.prototype;e.$transportType$=7;e.$transportServiceHandler$=function(a){a=qe(a);var b=a[1];switch(a[0]){case "SETUP_ACK":this.$setupAckReceived_$.$fired_$||this.$setupAckReceived_$.$callback$(!0);break;case "SETUP":this.$sendSetupAckMessage_$(),
null!=this.$peerEndpointId_$&&this.$peerEndpointId_$!=b&&(x("Sending SETUP and changing peer ID to: "+b),this.$sendSetupMessage_$()),this.$peerEndpointId_$=b}};e.$sendSetupMessage_$=function(){this.send("tp","SETUP,"+this.$endpointId_$)};e.$sendSetupAckMessage_$=function(){this.send("tp","SETUP_ACK");this.$setupAckSent_$.$fired_$||this.$setupAckSent_$.$callback$(!0)};e.$connect$=function(){var a=this.$getWindow$();if(a){var b=fa(a);0==(Mc[b]||0)&&null==nb("crosswindowmessaging.channel",a)&&r("crosswindowmessaging.channel",
Lf,a);Mc[b]++;this.$initialized_$=!0;this.$maybeAttemptToConnect_$()}else C("connect(): no window to initialize.")};e.$maybeAttemptToConnect_$=function(){this.$channel_$.$isConnected$()?this.$maybeAttemptToConnectTimer_$.stop():(this.$maybeAttemptToConnectTimer_$.start(),this.$sendSetupMessage_$())};e.send=function(a,b){if(this.$channel_$.$peerWindowObject_$){var c=new pe(this.$originalChannelName_$+"_"+(0==N(this.$channel_$)?1:0),a,b);this.$channel_$.$cfg_$.directSyncMode?this.$executeScheduledSend_$(c):
this.$asyncSendsMap_$[fa(c)]=Bc(n(this.$executeScheduledSend_$,this,c),0)}else C("send(): window not ready")};e.$executeScheduledSend_$=function(a){var b=fa(a);this.$asyncSendsMap_$[b]&&delete this.$asyncSendsMap_$[b];try{var c=nb("crosswindowmessaging.channel",this.$channel_$.$peerWindowObject_$)}catch(d){L(G,"Can't access other window, ignoring.",d);return}if(null===c)L(G,"Peer window had no global function.");else try{c({channelName:a.$channelName$,service:a.$service$,payload:a.$payload$}),x("send(): channelName="+
a.$channelName$+" service="+a.$service$+" payload="+a.$payload$)}catch(d){L(G,"Error performing call, ignoring.",d)}};e.$notifyConnected_$=function(){this.$channel_$.$notifyConnected$(0)};e.$disposeInternal$=function(){if(this.$initialized_$){var a=this.$getWindow$(),b=fa(a);1==--Mc[b]&&r("crosswindowmessaging.channel",null,a)}this.$asyncSendsMap_$&&(Pa(this.$asyncSendsMap_$,function(a){q.clearTimeout(a)}),this.$asyncSendsMap_$=null);this.$setupAckReceived_$&&(this.$setupAckReceived_$.cancel(),delete this.$setupAckReceived_$);
this.$setupAckSent_$&&(this.$setupAckSent_$.cancel(),delete this.$setupAckSent_$);this.$connected_$&&(this.$connected_$.cancel(),delete this.$connected_$);Pb.$superClass_$.$disposeInternal$.call(this)};v(da,D);da.prototype.$peerProtocolVersion_$=null;da.prototype.$initialized_$=!1;da.prototype.$transportType$=1;var Vb={};e=da.prototype;e.$transportServiceHandler$=function(a){var b=se(a);a=b[1];switch(b[0]){case "SETUP_ACK":Rb(this,1);this.$setupAckReceived_$.$fired_$||this.$setupAckReceived_$.$callback$(!0);
break;case "SETUP_ACK_NTPV2":2==this.$protocolVersion_$&&(Rb(this,2),this.$setupAckReceived_$.$fired_$||this.$setupAckReceived_$.$callback$(!0));break;case "SETUP":Rb(this,1);this.$sendSetupAckMessage_$(1);break;case "SETUP_NTPV2":2==this.$protocolVersion_$&&(b=this.$peerProtocolVersion_$,Rb(this,2),this.$sendSetupAckMessage_$(2),1!=b&&null==this.$peerEndpointId_$||this.$peerEndpointId_$==a||(x("Sending SETUP and changing peer ID to: "+a),this.$sendSetupMessage_$()),this.$peerEndpointId_$=a)}};e.$sendSetupMessage_$=
function(){u(!(1==this.$protocolVersion_$&&2==this.$peerProtocolVersion_$));2!=this.$protocolVersion_$||null!=this.$peerProtocolVersion_$&&2!=this.$peerProtocolVersion_$||this.send("tp","SETUP_NTPV2,"+this.$endpointId_$);null!=this.$peerProtocolVersion_$&&1!=this.$peerProtocolVersion_$||this.send("tp","SETUP")};e.$sendSetupAckMessage_$=function(a){u(1!=this.$protocolVersion_$||2!=a,"Shouldn't try to send a v2 setup ack in v1 mode.");if(2!=this.$protocolVersion_$||null!=this.$peerProtocolVersion_$&&
2!=this.$peerProtocolVersion_$||2!=a){if(null!=this.$peerProtocolVersion_$&&1!=this.$peerProtocolVersion_$||1!=a)return;this.send("tp","SETUP_ACK")}else this.send("tp","SETUP_ACK_NTPV2");this.$setupAckSent_$.$fired_$||this.$setupAckSent_$.$callback$(!0)};e.$connect$=function(){var a=this.$getWindow$(),b=fa(a),c=Vb[b];xa(c)||(c=0);0==c&&ca(a.postMessage?a:a.document,"message",re,!1,da);Vb[b]=c+1;this.$initialized_$=!0;this.$maybeAttemptToConnect_$()};e.$maybeAttemptToConnect_$=function(){var a=0==
N(this.$channel_$);this.$oneSidedHandshake_$&&a||this.$channel_$.$isConnected$()||this.$disposed_$?this.$maybeAttemptToConnectTimer_$.stop():(this.$maybeAttemptToConnectTimer_$.start(),this.$sendSetupMessage_$())};e.send=function(a,b){var c=this.$channel_$.$peerWindowObject_$;c?(this.send=function(a,b){var e=this,k=this.$channel_$.name;this.$sendTimerId_$=Bc(function(){e.$sendTimerId_$=0;try{var h=c.postMessage?c:c.document;h.postMessage?(h.postMessage(k+"|"+a+":"+b,e.$peerHostname_$),C("send(): service="+
a+" payload="+b+" to hostname="+e.$peerHostname_$)):L(G,"Peer window had no postMessage function.")}catch(p){L(G,"Error performing postMessage, ignoring.",p)}},0)},this.send(a,b)):C("send(): window not ready")};e.$notifyConnected_$=function(){this.$channel_$.$notifyConnected$(1==this.$protocolVersion_$||1==this.$peerProtocolVersion_$?200:void 0)};e.$disposeInternal$=function(){if(this.$initialized_$){var a=this.$getWindow$(),b=fa(a),c=Vb[b];Vb[b]=c-1;1==c&&$a(a.postMessage?a:a.document,"message",
re,!1,da)}this.$sendTimerId_$&&(q.clearTimeout(this.$sendTimerId_$),this.$sendTimerId_$=0);aa(this.$eventHandler_$);delete this.$eventHandler_$;aa(this.$maybeAttemptToConnectTimer_$);delete this.$maybeAttemptToConnectTimer_$;this.$setupAckReceived_$.cancel();delete this.$setupAckReceived_$;this.$setupAckSent_$.cancel();delete this.$setupAckSent_$;this.$connected_$.cancel();delete this.$connected_$;delete this.send;da.$superClass_$.$disposeInternal$.call(this)};v(jb,ka);var Qf=/^%*tp$/,Mg=/^%+tp$/;
e=jb.prototype;e.$connectionDelay_$=null;e.$peerWindowDeferred_$=null;e.$transport_$=null;e.$state_$=1;e.$isConnected$=function(){return 2==this.$state_$};e.$peerWindowObject_$=null;e.$iframeElement_$=null;e.$connect$=function(a){this.$connectCb_$=a||Oc;this.$peerWindowDeferred_$?va(this.$peerWindowDeferred_$,this.$continueConnection_$,null,void 0):this.$continueConnection_$()};e.$continueConnection_$=function(){x("continueConnection_()");this.$peerWindowDeferred_$=null;this.$cfg_$.ifrid&&(this.$iframeElement_$=
this.$domHelper_$.$getElement$(this.$cfg_$.ifrid));if(this.$iframeElement_$){var a=this.$iframeElement_$.contentWindow;a||(a=window.frames[this.$cfg_$.ifrid]);this.$peerWindowObject_$=a}if(!this.$peerWindowObject_$){if(window==window.top)throw Error("CrossPageChannel: Can't connect, peer window-object not set.");this.$peerWindowObject_$=window.parent}if(!this.$transport_$){if(!this.$cfg_$.tp){var a=this.$cfg_$,b;if(A(document.postMessage)||A(window.postMessage)||t&&window.postMessage)b=1;else if(W)b=
2;else if(t&&this.$cfg_$.pru)b=3;else{var c;if(c=t){c=!1;try{b=window.opener,window.opener={},c=$c(window,"opener"),window.opener=b}catch(d){}}b=c?6:4}a.tp=b}switch(this.$cfg_$.tp){case 1:this.$transport_$=new da(this,this.$cfg_$.ph,this.$domHelper_$,!!this.$cfg_$.osh,this.$cfg_$.nativeProtocolVersion||2);break;case 6:this.$transport_$=new Lb(this,this.$domHelper_$);break;case 2:this.$transport_$=new Fb(this,this.$domHelper_$);break;case 3:this.$transport_$=new Jb(this,this.$domHelper_$);break;case 4:this.$transport_$=
new bb(this,this.$domHelper_$);break;case 7:if(a=this.$peerWindowObject_$)try{a=window.document.domain==this.$peerWindowObject_$.document.domain}catch(d){a=!1}a?this.$transport_$=new Pb(this,this.$domHelper_$):x("DirectTransport not supported for this window, peer window in different security context or not set yet.")}if(this.$transport_$)x("Transport created: "+this.$transport_$.getName());else throw Error("CrossPageChannel: No suitable transport found!");}for(this.$transport_$.$connect$();0<this.$deferredDeliveries_$.length;)this.$deferredDeliveries_$.shift()()};
e.close=function(){ue(this);this.$state_$=3;aa(this.$transport_$);this.$connectCb_$=this.$transport_$=null;aa(this.$connectionDelay_$);this.$connectionDelay_$=null;x('Channel "'+this.name+'" closed')};e.$notifyConnected$=function(a){this.$isConnected$()||this.$connectionDelay_$&&this.$connectionDelay_$.$isActive$()||(this.$state_$=2,x('Channel "'+this.name+'" connected'),aa(this.$connectionDelay_$),O(a)?(this.$connectionDelay_$=new Nb(this.$connectCb_$,a),this.$connectionDelay_$.start()):(this.$connectionDelay_$=
null,this.$connectCb_$()))};e.$notifyConnected_$=jb.prototype.$notifyConnected$;e.send=function(a,b){this.$isConnected$()?tc(this)?(Z(b)&&(b=Oa(b)),this.$transport_$.send(Pf(a),b)):(T("Peer has disappeared."),this.close()):T("Can't send. Channel not connected.")};e.$xpcDeliver$=function(a,b,c){if(this.$peerWindowDeferred_$)this.$deferredDeliveries_$.push(n(this.$xpcDeliver$,this,a,b,c));else{var d=this.$cfg_$.ph;if(ha(c)||ha(d)||c==this.$cfg_$.ph)if(this.$disposed_$)L(G,"CrossPageChannel::xpcDeliver(): Disposed.");
else if(a&&"tp"!=a)if(this.$isConnected$()){if(a=a.replace(/%[0-9a-f]{2}/gi,decodeURIComponent),a=Mg.test(a)?a.substring(1):a,c=this.$services_$[a],c||(this.$defaultService_$?c={$callback$:Na(this.$defaultService_$,a),$objectPayload$:Z(b)}:(L(this.logger,'Unknown service name "'+a+'"'),c=null)),c){var e;a:{if((d=c.$objectPayload$)&&l(b))try{e=Yb(b);break a}catch(f){L(this.logger,"Expected JSON payload for "+a+', was "'+b+'"');e=null;break a}else if(!d&&!l(b)){e=Oa(b);break a}e=b}null!=e&&c.$callback$(e)}}else x("CrossPageChannel::xpcDeliver(): Not connected.");
else this.$transport_$.$transportServiceHandler$(b);else L(G,'Message received from unapproved origin "'+c+'" - rejected.')}};e.$disposeInternal$=function(){this.close();this.$iframeElement_$=this.$peerWindowObject_$=null;delete M[this.name];aa(this.$peerLoadHandler_$);delete this.$peerLoadHandler_$;jb.$superClass_$.$disposeInternal$.call(this)};var Cg={$CLICK$:"click",$DURATION_CHANGE$:"durationchange",$ENDED$:"ended",ERROR:"error",$FULLSCREEN_CHANGE$:"fullscreenchange",$LOADED_DATA$:"loadeddata",
$LOAD_START$:"loadstart",$PAUSE$:"pause",$PLAYING$:"play",$SEEKED$:"seeked",$SEEKING$:"seeking",$TIME_UPDATE$:"timeupdate"};v(z,X);z.$getInstance$=function(){return z.$instance_$?z.$instance_$:z.$instance_$=new z};e=ze.prototype;e.length=function(){return this.$nodeList_$.length};e.$nodes$=function(a){return xa(a)?null!=this.$nodeList_$&&0<this.$nodeList_$.length&&this.$nodeList_$.length>a?this.$nodeList_$[a]:null:this.$nodeList_$};e.first=function(){return this.$nodes$(0)};e.$getSize$=function(){var a;
1==this.$nodeList_$.length?a=Ac(this.$nodeList_$[0]):(a=[],F(this.$nodeList_$,function(b){a.push(Ac(b))}));return a};e.$getAutoSize$=function(){var a;1==this.$nodeList_$.length?a=ve(this.$nodeList_$[0]):(a=[],F(this.$nodeList_$,function(b){a.push(ve(b))}));return a};e.$getPageOffset$=function(){var a;1==this.$nodeList_$.length?a=Ha(this.$nodeList_$[0]):(a=[],F(this.$nodeList_$,function(b){a.push(Ha(b))}));return a};e.$getPageOffsetLeft$=function(){var a;1==this.$nodeList_$.length?a=Ha(this.$nodeList_$[0]).x:
(a=[],F(this.$nodeList_$,function(b){a.push(Ha(b).x)}));return a};e.$getPageOffsetTop$=function(){var a;1==this.$nodeList_$.length?a=Ha(this.$nodeList_$[0]).y:(a=[],F(this.$nodeList_$,function(b){a.push(Ha(b).y)}));return a};var ye="r",xe="VSTART_UNIQUE",Hc="VTHRESH_25",Ic="VTHRESH_50",Jc="VTHRESH_75",Gc="VTHRESH_100",Vf="USER_CLICK_CALL_TO_ACTION",$f="USER_CLICK_VIDEO_CALL_TO_ACTION",Yf="USER_CLICK_MENU_ITEM",gg="SYSTEM_SHOW_PREROLL_APP",hg="SYSTEM_SHOW_MIDROLL_APP",ig="SYSTEM_SHOW_POSTROLL_APP",
ng="USER_APP_COMPLETE",kg="USER_ROLLAPP_COMPLETE",jg="USER_APP_SKIP",lg="USER_APP_SELECT",mg="USER_APP_DESELECT",og="USER_APP_LOAD",pg="USER_APP_RENDER",Wf="USER_CLICK_LOGO",Xf="USER_CLICK_SLIDER_IMAGE",ag="USER_NAVIGATE_TO_PAGE",bg="IMPRESSION",rg="unstarted",tg="playing",sg="paused",Nc=null,Ng=window.open;window.open=function(a,b,c,d){a:{var e=a,f=null;try{null!=getPlayerConfigurations&&A(getPlayerConfigurations)&&(f=getPlayerConfigurations)}catch(n){}try{null!=getAppConfigs&&A(getAppConfigs)&&
(f=getAppConfigs)}catch(n){}if(A(f)){a=Tf();for(var k=f().affiliateRegex,h=0;h<k.length;h++)for(var f=k[h],f=f.replace(/\\\|/g,"&pipe;"),p=f.split("|"),m=0;m<p.length;m++){var f={},l=p[m],l=l.replace("&pipe;","\\|"),q=/\?P<([^>]+)>/g,r=0,t;do t=q.exec(l),null!=t&&(r++,f[r]=t[1]);while(null!=t);q.lastIndex=0;l=l.replace(q,"");l=(new RegExp(l)).exec(e);if(null!=l){if("query"==f[1]){if(f=e.split("?"),1<f.length){e={};k=f[1];h=k.split("&");for(k=0;k<h.length;k++)p=h[k].split("="),m=p[0],e[m]=a.hasOwnProperty(m)?
a[m]:1<p.length?null:p[1];var k="",u;for(u in e)0<k.length&&(k+="&"),k+=u+"="+e[u];e=f[0]+"?"+k}}else for(k=1;k<l.length;k++)u=a[f[k]],null!=u&&(h=l[k],p=e.indexOf(h,l.index),e=e.substring(0,p)+u+e.substr(p+h.length));a=e;break a}}}a=e}return Ng.call(window,a,b,c,d)};v(Tb,X);e=Tb.prototype;e.$getElement$=function(){return this.element};e.$getAdditionalQueryParams$=function(){return""};e.$receiveMessageFromLayout$=function(a){switch(a.name){case "DOM_CONTENT_LOADED":a=wa("COMPLETE"),null!=this.channel&&
null!=a&&this.channel.send("LAYOUT_SERVICE",a),null!=this.$hostPlayer$&&!this.$hostPlayer$.paused&&Ae(this,wa("play",Be(this)))}};e.$receiveMessageFromExternalPlayer$=function(a){switch(a.name){case "LOAD":this.$hostPlayer$.src=a.data;break;case "PLAY":this.$hostPlayer$.play();break;case "PAUSE":this.$hostPlayer$.pause();break;case "BEFORE_SHOW_OVERLAY":this.$beforeShowOverlay$();break;case "AFTER_HIDE_OVERLAY":this.$afterHideOverlay$();break;case "AFTER_CREATE_PLAYER":this.$afterCreatePlayer$();
break;case "CURRENT_TIME":l(a.data)&&(a=bd(a.data.toString()),null!=a&&(this.$hostPlayer$.currentTime=a));break;case "POSTER":l(a.data)&&(this.$hostPlayer$.poster=a.data.toString());break;case "CONTROLS":l(a.data)&&(this.$hostPlayer$.controls="true"==a.data.toString().toLowerCase());break;case "AUTO_PLAY":break;default:debugger}};e.$getHostName$=function(){return"viewbix"};e.$beforeShowOverlay$=function(){};e.$afterHideOverlay$=function(){};e.$afterCreatePlayer$=function(){};v(ea,Tb);e=ea.prototype;
e.$getAdditionalQueryParams$=function(){var a=ea.$superClass_$.$getAdditionalQueryParams$.call(this);if(null!=this.$creativeData_$)if(this.$creativeData_$.hasOwnProperty("AdParameters"))a=this.$creativeData_$.AdParameters,a=new la(a),a.remove("debug"),a.remove("local"),a.remove("minified"),a.remove("layout"),a.remove("hostName"),a="&"+a.toString();else{var b=this.$creativeData_$;if("function"==typeof b.$getKeys$)a=b.$getKeys$();else if("function"!=typeof b.$getValues$)if(Xb(b)||l(b))for(var a=[],
c=b.length,d=0;d<c;d++)a.push(d);else a=bc(b);else a=void 0;if("undefined"==typeof a)throw Error("Keys are undefined");c=new la(null,0,void 0);b=af(b);for(d=0;d<a.length;d++){var e=a[d],f=b[d];J(f)?ie(c,e,f):c.add(e,f)}a="&"+c.toString()}return a+"&ap=true"};e.$getHostName$=function(){switch(this.$adType_$){default:return"vpaidlinear";case Ma:return"vpaidnonlinear"}};e.$receiveMessageFromExternalPlayer$=function(a){switch(a.name){case "LOAD":this.$originalAdType_$==Wb&&(this.$hostPlayer$.src=a.data);
break;default:ea.$superClass_$.$receiveMessageFromExternalPlayer$.call(this,a)}};e.$receiveMessageFromLayout$=function(a){switch(a.name){case "AFTER_CREATE_PLAYER":w(this,"AdLoaded");break;case "ONPAUSE":w(this,"AdPaused");break;case "ONRESUME":w(this,"AdStarted");break;case "VSTART":w(this,"AdVideoStart");break;case Hc:w(this,"AdVideoFirstQuartile");break;case Ic:w(this,"AdVideoMidpoint");break;case Jc:w(this,"AdVideoThirdQuartile");break;case Gc:w(this,"AdVideoComplete");w(this,"AdStopped");break;
default:ea.$superClass_$.$receiveMessageFromLayout$.call(this,a)}};e.$getAdLinear$=function(){return this.$adType_$==Wb?!0:!1};e.$getAdWidth$=function(){return this.$adWidth_$};e.$getAdHeight$=function(){return this.$adHeight_$};e.$getAdExpanded$=function(){return this.$adExpanded$};e.$getAdSkippableState$=function(){return this.$adSkippableState_$};e.$getAdRemainingTime$=function(){return 9999};e.$getAdDuration$=function(){return this.$hostPlayer$.duration};e.$handshakeVersion$=function(a){return a};
e.$initAd$=function(a,b,c,d,e,f){this.$slot_$=f.slot;this.$videoSlot_$=f.videoSlot;this.$adWidth_$=a;this.$adHeight_$=b;this.$creativeData_$=e||null;zg(this,this.$videoSlot_$);this.$slot_$.appendChild(this.$getElement$());Mb(this.$slot_$,{position:"absolute",top:"0",left:"0",width:a+"px",height:b+"px",border:"none"})};e.$startAd$=function(){this.$adType_$==Wb&&Ub(this,wa("PLAY"));w(this,"AdStarted");w(this,"AdImpression")};e.$stopAd$=function(){w(this,"AdStopped")};e.$setAdVolume$=function(a){this.$hostPlayer$.volume=
a;Ub(this,wa("SET_VOLUME",a))};e.$getAdVolume$=function(){return this.$hostPlayer$.volume};e.$resizeAd$=function(a,b,c){this.$adWidth_$=a;this.$adHeight_$=b;var d;d=this.$slot_$;d=l(d)?document.getElementById(d):d;switch(c){default:Mb(d,{width:a+"px",height:b+"px"});break;case "fullscreen":Mb(d,{width:"100%",height:"100%"})}w(this,"AdSizeChange")};e.$pauseAd$=function(){Ub(this,wa("PAUSE"));w(this,"AdPaused")};e.$resumeAd$=function(){Ub(this,wa("RESUME"));w(this,"AdPlaying")};e.$expandAd$=function(){this.$adExpanded$=
!0;w(this,"AdExpandedChange")};e.$collapseAd$=function(){this.$adExpanded$=!1;w(this,"AdExpandedChange")};e.$skipAd$=function(){};e.$subscribe$=function(a,b,c){ca(this,b,a,!1,c)};e.$unsubscribe$=function(a,b){$a(this,b,a,!1)};e.$getAdCompanions$=function(){return""};e.$getAdIcons$=function(){return!1};var Wb="linear",Ma="nonlinear";ea.prototype.$beforeShowOverlay$=function(){this.$originalAdType_$==Ma&&(this.$adType_$=Wb,w(this,"AdLinearChange"))};ea.prototype.$afterHideOverlay$=function(){this.$originalAdType_$==
Ma&&(this.$adType_$=Ma,w(this,"AdLinearChange"))};ea.prototype.$afterCreatePlayer$=function(){this.$originalAdType_$==Ma&&(this.$adType_$=Ma,w(this,"AdLinearChange"))};r("VBX.select",function(a){return new ze(a)},void 0);r("VBX.contentLoaded",function(a){function b(){c||(c=!0,a())}var c=!1;if("complete"==document.readyState)a.call(window,"lazy");else if(document.addEventListener)document.addEventListener("DOMContentLoaded",b,!1);else if(document.attachEvent){try{var d=null!=window.frameElement}catch(e){}if(document.documentElement.doScroll&&
!d){var g=function(){if(!c)try{document.documentElement.doScroll("left"),b()}catch(a){setTimeout(g,10)}};g()}document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&b()})}},void 0);r("VBX.listen",function(a,b,c,d,e){return l(b)&&"resize"==b&&a!=window?(window.$addResizeListener$||Rf(),window.$addResizeListener$(a,null!=e?n(c,e):c),null):ca(a,b,c,d,e)},void 0);r("VBX.unlisten",function(a,b,c,d,e){return l(b)&&"resize"==b&&a!=window&&window.$removeResizeListener$?(window.$removeResizeListener$(a,
c),!0):$a(a,b,c,d,e)},void 0);r("VBX.getSize",function(a){return Ac(a)},void 0);r("VBX.track",function(a,b,c,d){a=z.$getInstance$().$eventTrackingMap_$[a];null!=a&&window.spvb("trackUnstructEvent",{schema:a.schema,data:a.data(d)},yg(a,d))},void 0);r("VBX.empty",ha,void 0);r("VBX.ok",function(a){return null!=a},void 0);r("VBX.px",function(a,b){ha(b)&&(b="px");var c=parseFloat(a);return isNaN(c)?"":c.toString()+b},void 0);r("VBX.loading",function(a,b){"boolean"==typeof b||(b=!0);Z(a)&&1==a.nodeType&&
(b?jd(a,"vbx-loading"):kd(a,"vbx-loading"))},void 0);r("VBX.addClass",jd,void 0);r("VBX.removeClass",kd,void 0);r("VBX.toBoolean",function(a,b){b=b||!1;if(null===a||!O(a))return b;if("boolean"==typeof a)return a;if(xa(a))return 0!=a;if(l(a)){var c=Ba(a);a:for(var d=0;2>d;d++){var e="\"'".charAt(d);if(c.charAt(0)==e&&c.charAt(c.length-1)==e){c=c.substring(1,c.length-1);break a}}c=Ba(c);c=c.toLowerCase();switch(c){case "true":case "1":return!0;case "false":case "0":return!1}}return b},void 0);r("VBX.colorIsBright",
function(a){var b=a>>16&255,c=a>>8&255;a&=255;return 145<Math.sqrt(.241*b*b+.691*c*c+.068*a*a)},void 0);r("VBX.colorToString",function(a,b){b=b||"#";if(l(a)&&rb(a,b))return a;for(var c=cd(a).toString(16);6>c.length;)c="0"+c;return b+c},void 0);r("VBX.supports",function(a){if(null===Nc){var b="textShadow textStroke boxShadow borderRadius borderImage opacity".split(" "),c=["Webkit","Moz","O","ms","Khtml"],d=document.createElement("browserFeatureDetectElement"),e=[],f,k;for(f in b){var h=k=b[f];a:{var l=
k.charAt(0).toUpperCase()+k.substr(1);k=(k+" "+c.join(l+" ")+l).split(" ");for(var l=0,m=k.length;l<m;l++)if(""===d.style[k[l]]){k=!0;break a}k=!1}e[h]=k}Nc=e}return Nc[a]},void 0);r("VBX.extractLink",function(a){if(null==a)return null;a=/(\<a\s+href\s*=\s*["']{1}|\<iframe.+?src\s*=\s*["']{1}(?:\/\/)?|data-href\s*=\s*["']{1})?\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u202A\u202C]))/ig.exec(a);
null!=a?(a=a[2],null!=a?(a=Ba(a)||"",ha(a)||0==a.lastIndexOf("http://",0)||0==a.lastIndexOf("https://",0)||0==a.lastIndexOf("tel://",0)||0==a.lastIndexOf("//",0)||(a="http://"+a)):a=null):a=null;return a},void 0);r("VBX.linkify",function(a){if(null==a)return"";a=a.replace(/(\<a\s+href\s*=\s*["']{1}|\<img.+?src\s*=\s*["']{1}|\<iframe.+?src\s*=\s*["']{1}(?:\/\/)?|data-href\s*=\s*["']{1})?\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?\u202A\u202C]))/ig,
function(a,c,d){return null==c||/^[\s\xa0]*$/.test(c)?"<a onclick='window.open(\""+d+'", "_blank");return false;\'>'+d+"</a>":rb(c,"<img")||rb(c,"<iframe")||rb(c,"data-href")?a:"<a onclick='window.open(\""+d+'", "_blank");return false;\''});a=a.replace(/\"www/g,'"http://www');return Ba(a)},void 0);r("VBX.listenMouseEnter",function(a,b,c,d){return ca(a,"mouseover",function(c){c.relatedTarget&&nc(a,c.relatedTarget)||b.call(d,c)},c,d)},void 0);r("VBX.listenMouseLeave",function(a,b,c,d){return ca(a,"mouseout",
function(c){c.relatedTarget&&nc(a,c.relatedTarget)||b.call(d,c)},c,d)},void 0);r("VBX.VpaidApi",ea,void 0)})();
