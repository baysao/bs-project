<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="format-detection" content="telephone=no">

<link rel="stylesheet" href="http://mecloud.vn/product/css/bootstrap.min.css">

<script src="http://mecloud.vn/product/js/jquery.min.js"></script>
<body>
	<div class="row">
        <div class=" col-md-6">
            <div class="left-demo os-animation" data-os-animation="fadeInLeft">
                <form>
                    <div class="head-ld">
                        <label class="checkbox-inline">
                            <input class="checkboxAds" type="checkbox" checked="checked" id="preroll" value="preroll"> PREROLL
                        </label>
                        <label class="checkbox-inline">
                            <input class="checkboxAds" type="checkbox" id="midroll" value="midroll"> MIDROLL
                        </label>
                        <label class="checkbox-inline">
                            <input class="checkboxAds" type="checkbox" id="postroll" value="postroll"> POSTROLL
                        </label>
                        <a class="btn-example" onclick="sample_video_ads();return false;" href="index.html#">Sample</a>
                    </div>
                    <div class="content-ld">
                    
                        <div class="pick-option">Please fill at least 1 adtag or juts click "Sample"</div>
                    
                        <div class="preroll-added adsRoll clearfix">
                            <h5>Preroll</h5>
                            <div class="form-inline-two">
                                <div class="form-group">
                                    <label class="sr-only">Adtag</label>
                                    <select class="form-control typeAds">
                                        <option value="ima">IMA</option>
                                        <option value="vast">VAST</option>
                                    </select>
                                    <input type="text" class="form-control" id="" placeholder="Enter your adtag">
                                    <button type="button" class="btn btn-default btn-backfill">Add Back Fill</button>
                                </div>
                            </div>
                            
                            <div class="multi-fields">
                                
                            </div>
                            
                        </div><!-- end preroll-added -->
                        
                        <div class="midroll-added adsRoll clearfix">
                            <h5>Midroll</h5>
                            <div class="form-inline-two">
                                <div class="form-group">
                                    <label class="sr-only">Adtag</label>
                                    <select class="form-control typeAds">
                                        <option value="ima">IMA</option>
                                        <option value="vast">VAST</option>
                                    </select>
                                    <input type="text" class="form-control" id="" placeholder="Enter your adtag">
                                    <button type="button" class="btn btn-default btn-backfill">Add Back Fill</button>
                                </div>
                            </div>
                            <div class="multi-fields">
                                
                            </div>
                            <div class="form-inline">
                                <div class="form-group">
                                    <label class="sr-only">Offset</label>
                                    <input type="text" class="form-control offset-field" id="" placeholder="Enter offset">
                                </div>
                                <span class="offset-unit">s</span>
                            </div>
                        </div><!-- end midroll-added -->
                        
                        <div class="postroll-added adsRoll clearfix">
                            <h5>Postroll</h5>
                            <div class="form-inline-two">
                                <div class="form-group">
                                    <label class="sr-only">Adtag</label>
                                    <select class="form-control typeAds">
                                        <option value="ima">IMA</option>
                                        <option value="vast">VAST</option>
                                    </select>
                                    <input type="text" class="form-control" id="" placeholder="Enter your adtag">
                                    <button type="button" class="btn btn-default btn-backfill">Add Back Fill</button>
                                </div>
                            </div>
                            <div class="multi-fields">
                                
                            </div>
                        </div><!-- end postroll-added -->
                        
                    </div>
                </form>
            </div><!-- end left-demo -->
            <div class="btns-demo">
                <button id="btn-showme" type="submit" class="btn btn-primary btn-showme">OK, PLAY</button>
                <button type="type" class="btn btn-switch hidden-xs hidden-sm" onclick="switch_tech(this)">Switch to Flash</button>                           
            </div>						
        </div>
        <div class="col-md-6">
        	<div class="right-demo">
            	<div id="demo-video-player"></div>
            </div>
        </div>
	</div>



<!--demo player area-->
<script src="http://player.dev.mecloud.vn/p/meplayer.js" type="text/javascript"></script>
<script>
	$(document).ready(function() {
	
	$("nav.navbar").addClass("fixed");
	
	//player Ads
	var checkbox_preroll = $('#preroll'),
		checkbox_midroll = $('#midroll'),
		checkbox_postroll = $('#postroll');
	
	
	function checkBoxAds(){
		var result = false;
		$('.checkboxAds').each(function(){
			if(this.checked){
				result = true;
				return false;
			}
		});
		return result;
	}
	
	function showOption(){
		if(checkBoxAds() == false){
			$('.pick-option').fadeIn();	
		}else{
			$('.pick-option').fadeOut();
		}
	}
	
	//preroll action
	checkbox_preroll.on('click',function(){
		//console.log($(this))
		if (this.checked) {
			$('.preroll-added').fadeIn();
			checkbox_preroll.attr('checked','checked');
		}else {
			$('.preroll-added').fadeOut();
			checkbox_preroll.attr('checked','');
		}
		showOption();
	});
	
	
	
	//midroll action
	checkbox_midroll.on('click',function(){
		if (this.checked){
			$('.midroll-added').fadeIn();
		}else {
			$('.midroll-added').fadeOut();
		}
		showOption();
	});
	
	//postroll action
	checkbox_postroll.on('click',function(){
		if (this.checked){
			$('.postroll-added').fadeIn();
		}else {
			$('.postroll-added').fadeOut();
		}
		showOption();
	});
	
	
	//add backfill
	$('.btn-backfill').click(function(){
		var intId = $('.multi-fields .multi-field').length + 1;
		var fieldWrapper = $('<div class="multi-field form-group"></div>');
		var fType = $('<select class=\"form-control typeAds\"><option value="ima">IMA</option><option value="vast">VAST</option></select>');
		var fName =$("<input type=\"text\" class=\"form-control\" id=\"field"+ intId +" \"  placeholder=\"Enter back fill\">");
		var btnRemove = $('<a class="btn-removeField" href="index.html#">Remove</a>');
		btnRemove.click(function(){
			$(this).parent().remove();	
			return false;
		})
		
		fieldWrapper.append(fName);
		fieldWrapper.append(fType);
		fieldWrapper.append(btnRemove);
		$(this).closest('.adsRoll').find(".multi-fields").append(fieldWrapper);
	});
	
	$('#btn-showme').click(function(){
		var advertising = {};
		if (checkbox_preroll[0].checked){
			advertising.pre={};
			advertising.pre.tag=[];
			advertising.pre.active=1;
			advertising.pre.tag.push({
					client: $('.preroll-added .form-inline-two .typeAds').val(),
					tag: $('.preroll-added .form-inline-two input').val()
				});
				
			$('.preroll-added .multi-field').each(function(){
				var e = $(this);
				advertising.pre.tag.push({
					client: e.find('.typeAds').val(),
					tag: e.find('input').val()
				});
			});
		}
		if (checkbox_preroll[0].checked){
			advertising.mid=[];
			var ad={};
			ad.tag=[];
			ad.active=1;
			ad.offset=parseInt($('.midroll-added .offset-field').val() || "5");
			ad.tag.push({
					client: $('.midroll-added .form-inline-two .typeAds').val().toLowerCase(),
					tag: $('.midroll-added .form-inline-two input').val()
				});
			$('.midroll-added .multi-field').each(function(){
				var e = $(this);
				ad.tag.push({
					client: e.find('.typeAds').val().toLowerCase(),
					tag: e.find('input').val()
				});
			});
			advertising.mid.push(ad);
		}
		if (checkbox_preroll[0].checked){
			advertising.post={};
			advertising.post.tag=[];
			advertising.post.active=1;

			advertising.post.tag.push({
					client: $('.postroll-added .form-inline-two .typeAds').val().toLowerCase(),
					tag: $('.postroll-added .form-inline-two input').val()
				});
			$('.postroll-added .multi-field').each(function(){
				var e = $(this);
				advertising.post.tag.push({
					client: e.find('.typeAds').val().toLowerCase(),
					tag: e.find('input').val()
				});
			});
			
		}
		/*var e = $('embed[id^="MemeVideoPlayer_Flash"]');
		if (e && e.length){
			coreLog.call(window.console,adInfo);
			e[0].setAdInfo(adInfo);
		} else {
			e = $('div[id^="MemeVideoPlayer_playerXdemo"]');
			if (e && e.length){
				MemeVideoPlayer.get(e[0].id)[0].setAdInfo(adInfo);
			}
		}*/
		player_video(advertising,true);
		
	});
	
	var coreLog = window.console.log;
	window.console.log = function(v,u){
		if (typeof u == 'string'){
			if (u.indexOf('Ads') == 0 && u.indexOf('error!') > 0) u+= ' <i style="color:red">See browser console for more detail</i>';
			$('#console-log').append('<p>'+u+'</p>');
		}
		if (v){
			coreLog.apply(window.console,arguments);
		}
	}
	
});
function sample_video_ads(){
	$('#preroll')[0].checked=false;
	$('#midroll')[0].checked=false ;
	$('#postroll')[0].checked=false ;
	$('#preroll,#midroll,#postroll').click();
	$('.preroll-added .form-inline-two .typeAds').val("vast");
	$('.preroll-added .form-inline-two input').val("http://delivery.adnetwork.vn/247/xmlvideoad/zid_1415937237/wid_1415936923/type_inline/cb_[timestamp]?t=33237021806");
	$('.midroll-added .form-inline-two .typeAds').val("vast");
	$('.midroll-added .form-inline-two input').val("http://delivery.adnetwork.vn/247/xmlvideoad/zid_1415937237/wid_1415936923/type_inline/cb_[timestamp]?t=33237021806");
	$('.midroll-added .offset-field').val(5);
	$('.postroll-added .form-inline-two .typeAds').val("vast");
	$('.postroll-added .form-inline-two input').val("http://delivery.adnetwork.vn/247/xmlvideoad/zid_1415937237/wid_1415936923/type_inline/cb_[timestamp]?t=33237021806");
	
	return false;
}
var tech="html5";
function switch_tech(ele){
	if(tech=="html5"){
		tech="flash";
		ele.innerHTML="Switch to HTML5";
	}else{
		tech="html5";
		ele.innerHTML="Switch to FLASH";
	}
	$('#btn-showme').click();
	//player_video(null,false);
}
var played=false;
function player_video(ads,auto){
	if(played) meplayer('demo-video-player').remove();
	meplayer('demo-video-player').setup({ 
                primary:tech,
                autoplay:auto||false,
                "title": 'Demo video',
                "image": "http://player.dev.mecloud.vn/helps/images/android.png",
                width:"100%",
                aspectration:"16:9",
                //advertising:{
                //pre:{
                //    tag:[{client:"ima",tag:document.getElementById("txt-tag-value").value}]
                //}
				//},
				advertising:ads||null,
				"file": "http://rmcdn.2mdn.net/Demo/vast_inspector/android.mp4"
        }); 
        played=true;
	
}	
player_video();
</script>
<style>
body {
	background:none;	
}
	/**********Player Demo***********/
.player-demo {
	background-color:#f5f5f5;
	padding:70px 0;	
}
.player-demo .heading {
	color:#323738;
	margin-bottom:50px;	
}
.left-demo {
	background-color:#ffffff;
	border:1px solid #e6ebed;	
}
.head-ld {
	background-color:#e6ebed;
	padding:15px 20px;	
}
.head-ld .checkbox-inline {
	margin-right:10px;
	font-weight:bold;
	font-family: 'Open San', Arial;
	line-height:24px;	
}
.preroll-added, .midroll-added, .postroll-added {
	border-bottom:1px solid #e6ebed;
	padding:10px 20px 5px 20px;	
}
.midroll-added, .postroll-added {
	display:none;	
}
.pick-option {
	padding: 20px;
	color: red;	
	display:none;
}
.content-ld div.clearfix:last-of-type {
	border-bottom-width: 0;	
}
.preroll-added h5, .midroll-added h5, .postroll-added h5 {
	font-weight:bold;	
}
.midroll-added .form-inline {
	margin-bottom:15px;	
}
.midroll-added .offset-field {
	max-width:100px;
}
.form-inline-two {
	position:relative;
	padding-right:136px;
	padding-left: 108px;	
}
.typeAds {
	width:98px !important;
	background:none;
	position:absolute;
	top:0;
	left:0;
	min-width:auto !important ;	
}
#theme-page select {
    padding: 10px !important;
}
#theme-page select option {
	font-size: 16px;
}
.form-inline-two button {
	position:absolute;
	top:0;
	right:0;
	width:126px;	
}
.btns-demo {
	margin-bottom: 20px;	
	text-align:center;
}
.btns-demo .btn {
	margin-top:20px;
}
.btn-showme {
	padding:10px 20px;
	font-weight:bold;
	margin-right:10px;
}
.btn-switch {
	padding:10px 20px;
	font-weight:bold;	
	background-color:#4ad690;
	color:#ffffff;
}
.btn-switch:hover {
	background-color:#2eaa53;
	color:#ffffff;
}
.right-demo {
	background-color:#ffffff;
	border:1px solid #e6ebed;
	padding:20px;
}	
.wrapper-player169 {
	padding-top:56.25%;
	position:relative;	
}
.player169 {
	position:absolute;
	width:100%;
	height:100%;
	top:0;
}
.bg-demo {
	width:100%;	
}
.require-txt {
	background-color:rgba(0,0,0,0.6);
	position: absolute;
	width: 280px;
	height: 72px;
	top: 50%;
	left: 50%;
	color: #ffffff;
	font-weight: bold;
	text-transform: uppercase;
	font-size: 16px;
	text-align: center;
	padding: 15px;
	margin-left: -140px;
	margin-top: -36px;
	border-radius: 4px;
	-webkit-border-radius: 4px;
	-moz-border-radius: 4px;
	-ms-border-radius: 4px;
	-o-border-radius: 4px;
}
.console-log {
	margin-top:20px;	
}
.head-cl {
	font-weight:bold;	
}
.content-cl {
	background-color:#eeeeee;	
	padding:20px;
	border-radius: 4px;
	-webkit-border-radius: 4px;
	-moz-border-radius: 4px;
	-ms-border-radius: 4px;
	-o-border-radius: 4px;
}
.content-cl p {
	font-size:11px;
	margin-bottom:5px;	
}
.add-backfill .form-group {
	position:relative;	
}
.btn-removeField {
	position: absolute;
	top: 6px;

	right: 10px;
	text-decoration: underline;
}
.btn-example {
	float:right;
	text-decoration:underline;	
}
.multi-field {
	position:relative;	
	padding-right:77px;
	padding-left: 105px;
}

@media (max-width:479px) {
	.form-inline-two {
		padding-right:0;
		padding-left: 105px;
	}
	.form-inline-two button {
		position: absolute;
		top: -36px;
		right: 0;
		width: auto;
		margin-top: 10px;
		background: none;
		border: none;
		color: #337ab7;
		text-decoration: underline;
		padding: 0;
	}
	.head-ld {
		position: relative;
	}
	.head-ld .checkbox-inline {
		margin-left: 0;
		display: block;
	}
	.btn-example {
		position: absolute;
		top: 14px;
		right: 10px;
	}
	.right-demo {
		background: none;
		border: none;
		padding: 0;
	}
}
	
</style>
</body>
</html>